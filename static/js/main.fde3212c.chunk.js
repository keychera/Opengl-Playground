(this["webpackJsonpreact-emcc-gl"]=this["webpackJsonpreact-emcc-gl"]||[]).push([[0],{130:function(e,t){},131:function(e,t){},173:function(e,t,r){"use strict";r.r(t);var n=r(4),o=r.n(n),a=r(82),i=r.n(a),s=(r(90),r(84)),u=(r(91),r(83)),c=r.n(u),l=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),r=t[0],a=t[1];Object(n.useEffect)((function(){var e=document.getElementById("canvas");c()({canvas:e}).then((function(e){a(e)}))}),[]);return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("canvas",{id:"canvas"}),o.a.createElement("p",null,"This is an ",o.a.createElement("code",null,"Emscripten-built C++ Opengl code")),o.a.createElement("button",{onClick:function(){r&&r._toggle_background_color&&r._toggle_background_color()}},"toggle bg")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,r){(function(t,n,o,a,i){var s=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return e=e||t,function(t){var s,u,c="undefined"!==typeof(t=t||{})?t:{};c.ready=new Promise((function(e,t){s=e,u=t})),c.expectedDataFileDownloads||(c.expectedDataFileDownloads=0),c.expectedDataFileDownloads++,function(e){if("object"===typeof window)window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/");else{if("undefined"===typeof location)throw"using preloaded data can only be done on a web page or in a web worker";encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/")}"function"!==typeof c.locateFilePackage||c.locateFile||(c.locateFile=c.locateFilePackage,C("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var t=c.locateFile?c.locateFile("satori_em.data",""):"satori_em.data",r=e.remote_package_size;e.package_uuid;var n=null,o=c.getPreloadedPackage?c.getPreloadedPackage(t,r):null;function a(){function t(e,t){if(!e)throw t+(new Error).stack}function r(e,t,r){this.start=e,this.end=t,this.audio=r}c.FS_createPath("/","emscripten",!0,!0),c.FS_createPath("/emscripten","assets",!0,!0),c.FS_createPath("/emscripten","shaders",!0,!0),r.prototype={requests:{},open:function(e,t){this.name=t,this.requests[t]=this,c.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){var t=this;c.FS_createPreloadedFile(this.name,null,e,!0,!0,(function(){c.removeRunDependency("fp "+t.name)}),(function(){t.audio?c.removeRunDependency("fp "+t.name):C("Preloading file "+t.name+" failed")}),!1,!0),this.requests[this.name]=null}};for(var a=e.files,i=0;i<a.length;++i)new r(a[i].start,a[i].end,a[i].audio).open("GET",a[i].filename);function s(n){t(n,"Loading data file failed."),t(n instanceof ArrayBuffer,"bad input to processPackageData");var o=new Uint8Array(n);r.prototype.byteArray=o;for(var a=e.files,i=0;i<a.length;++i)r.prototype.requests[a[i].filename].onload();c.removeRunDependency("datafile_build/em/satori_em.data")}c.addRunDependency("datafile_build/em/satori_em.data"),c.preloadResults||(c.preloadResults={}),c.preloadResults["build/em/satori_em.data"]={fromCache:!1},o?(s(o),o=null):n=s}o||function(e,t,r,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onprogress=function(r){var n=e,a=t;if(r.total&&(a=r.total),r.loaded){o.addedTotal?c.dataFileDownloads[n].loaded=r.loaded:(o.addedTotal=!0,c.dataFileDownloads||(c.dataFileDownloads={}),c.dataFileDownloads[n]={loaded:r.loaded,total:a});var i=0,s=0,u=0;for(var l in c.dataFileDownloads){var f=c.dataFileDownloads[l];i+=f.total,s+=f.loaded,u++}i=Math.ceil(i*c.expectedDataFileDownloads/u),c.setStatus&&c.setStatus("Downloading data... ("+s+"/"+i+")")}else c.dataFileDownloads||c.setStatus&&c.setStatus("Downloading data...")},o.onerror=function(t){throw new Error("NetworkError for: "+e)},o.onload=function(e){if(!(200==o.status||304==o.status||206==o.status||0==o.status&&o.response))throw new Error(o.statusText+" : "+o.responseURL);var t=o.response;r(t)},o.send(null)}(t,r,(function(e){n?(n(e),n=null):o=e})),c.calledRun?a():(c.preRun||(c.preRun=[]),c.preRun.push(a))}({files:[{filename:"/emscripten/assets/container2.png",start:0,end:467893,audio:0},{filename:"/emscripten/assets/container2_specular.png",start:467893,end:611974,audio:0},{filename:"/emscripten/assets/satori_sprout.png",start:611974,end:679610,audio:0},{filename:"/emscripten/assets/satori_sprout_n.png",start:679610,end:1023095,audio:0},{filename:"/emscripten/assets/sun.png",start:1023095,end:1025429,audio:0},{filename:"/emscripten/assets/terrain_bg.png",start:1025429,end:1034942,audio:0},{filename:"/emscripten/assets/terrain_fg.png",start:1034942,end:1043939,audio:0},{filename:"/emscripten/shaders/cube.vs",start:1043939,end:1044494,audio:0},{filename:"/emscripten/shaders/light.fs",start:1044494,end:1046236,audio:0},{filename:"/emscripten/shaders/satori.fs",start:1046236,end:1047193,audio:0},{filename:"/emscripten/shaders/tex.fs",start:1047193,end:1047480,audio:0},{filename:"/emscripten/shaders/tex.vs",start:1047480,end:1047825,audio:0},{filename:"/emscripten/shaders/tex2.fs",start:1047825,end:1048232,audio:0}],remote_package_size:1048232,package_uuid:"91d23b78-6eba-4021-9ad8-048664d42431"});var l,f={};for(l in c)c.hasOwnProperty(l)&&(f[l]=c[l]);var d=[],m="./this.program",p=function(e,t){throw t},g=!1,h=!1,v=!1,y=!1;g="object"===typeof window,h="function"===typeof importScripts,v="object"===typeof n&&"object"===typeof n.versions&&"string"===typeof n.versions.node,y=!g&&!v&&!h;var _,w,E,b,k,x,S="";v?(S=h?r(45).dirname(S)+"/":o+"/",_=function(e,t){return k||(k=r(95)),x||(x=r(45)),e=x.normalize(e),k.readFileSync(e,t?null:"utf8")},E=function(e){var t=_(e,!0);return t.buffer||(t=new Uint8Array(t)),G(t.buffer),t},n.argv.length>1&&(m=n.argv[1].replace(/\\/g,"/")),d=n.argv.slice(2),n.on("uncaughtException",(function(e){if(!(e instanceof pu))throw e})),n.on("unhandledRejection",Se),p=function(e){n.exit(e)},c.inspect=function(){return"[Emscripten Module object]"}):y?("undefined"!=typeof read&&(_=function(e){return read(e)}),E=function(e){var t;return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(G("object"===typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?d=scriptArgs:"undefined"!=typeof arguments&&(d=arguments),"function"===typeof quit&&(p=function(e){quit(e)}),"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(g||h)&&(h?S=self.location.href:document.currentScript&&(S=document.currentScript.src),e&&(S=e),S=0!==S.indexOf("blob:")?S.substr(0,S.lastIndexOf("/")+1):"",_=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},h&&(E=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),w=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},b=function(e){document.title=e});var D=c.print||console.log.bind(console),C=c.printErr||console.warn.bind(console);for(l in f)f.hasOwnProperty(l)&&(c[l]=f[l]);f=null,c.arguments&&(d=c.arguments),c.thisProgram&&(m=c.thisProgram),c.quit&&(p=c.quit);var F=16;function L(e,t){return t||(t=F),Math.ceil(e/t)*t}function A(e){A.shown||(A.shown={}),A.shown[e]||(A.shown[e]=1,C(e))}var P,T,R,M,B=0,O=function(e){B=e},I=function(){return B};function j(e,t,r,n){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":Z[e>>0]=t;break;case"i16":$[e>>1]=t;break;case"i32":te[e>>2]=t;break;case"i64":Te=[t>>>0,(Pe=t,+Math.abs(Pe)>=1?Pe>0?(0|Math.min(+Math.floor(Pe/4294967296),4294967295))>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],te[e>>2]=Te[0],te[e+4>>2]=Te[1];break;case"float":ne[e>>2]=t;break;case"double":oe[e>>3]=t;break;default:Se("invalid type for setValue: "+r)}}c.wasmBinary&&(P=c.wasmBinary),c.noExitRuntime&&(T=c.noExitRuntime),"object"!==typeof WebAssembly&&Se("no native wasm support detected");var N=!1;function G(e,t){e||Se("Assertion failed: "+t)}var U="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&U)return U.decode(e.subarray(t,o));for(var a="";t<o;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var u=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(i);else{var c=i-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&i)<<6|s)}else a+=String.fromCharCode(i)}return a}function q(e,t){return e?z(J,e,t):""}function H(e,t,r,n){if(!(n>0))return 0;for(var o=r,a=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i);if(s<=127){if(r>=a)break;t[r++]=s}else if(s<=2047){if(r+1>=a)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=a)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=a)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function X(e,t,r){return H(e,J,t,r)}function W(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function V(e){var t=W(e)+1,r=Xs(t);return r&&H(e,Z,r,t),r}function Y(e,t){Z.set(e,t)}function Q(e,t,r){for(var n=0;n<e.length;++n)Z[t++>>0]=e.charCodeAt(n);r||(Z[t>>0]=0)}var K,Z,J,$,ee,te,re,ne,oe,ae=65536;function ie(e){K=e,c.HEAP8=Z=new Int8Array(e),c.HEAP16=$=new Int16Array(e),c.HEAP32=te=new Int32Array(e),c.HEAPU8=J=new Uint8Array(e),c.HEAPU16=ee=new Uint16Array(e),c.HEAPU32=re=new Uint32Array(e),c.HEAPF32=ne=new Float32Array(e),c.HEAPF64=oe=new Float64Array(e)}var se=c.INITIAL_MEMORY||67108864;(R=c.wasmMemory?c.wasmMemory:new WebAssembly.Memory({initial:se/ae,maximum:se/ae}))&&(K=R.buffer),se=K.byteLength,ie(K);var ue=[],ce=[],le=[],fe=[],de=[];function me(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)ye(c.preRun.shift());He(ue)}function pe(){!0,c.noFSInit||ct.init.initialized||ct.init(),it.init(),He(ce)}function ge(){ct.ignorePermissions=!1,He(le)}function he(){!0}function ve(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)_e(c.postRun.shift());He(de)}function ye(e){ue.unshift(e)}function _e(e){de.unshift(e)}var we=0,Ee=null,be=null;function ke(e){we++,c.monitorRunDependencies&&c.monitorRunDependencies(we)}function xe(e){if(we--,c.monitorRunDependencies&&c.monitorRunDependencies(we),0==we&&(null!==Ee&&(clearInterval(Ee),Ee=null),be)){var t=be;be=null,t()}}function Se(e){c.onAbort&&c.onAbort(e),C(e+=""),N=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw u(t),t}function De(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}c.preloadedImages={},c.preloadedAudios={};var Ce="data:application/octet-stream;base64,";function Fe(e){return De(e,Ce)}var Le="file://";function Ae(e){return De(e,Le)}var Pe,Te,Re="".concat("/opengl-playground","/satori_em.wasm");function Me(){try{if(P)return new Uint8Array(P);if(E)return E(Re);throw"both async and sync fetching of the wasm failed"}catch(C){Se(C)}}function Be(){return P||!g&&!h||"function"!==typeof fetch||Ae(Re)?Promise.resolve().then(Me):fetch(Re,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Re+"'";return e.arrayBuffer()})).catch((function(){return Me()}))}function Oe(){var e={env:qs,wasi_snapshot_preview1:qs};function t(e,t){var r=e.exports;c.asm=r,M=c.asm.__indirect_function_table,xe()}function r(e){t(e.instance)}function n(t){return Be().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){C("failed to asynchronously prepare wasm: "+e),Se(e)}))}if(ke(),c.instantiateWasm)try{return c.instantiateWasm(e,t)}catch(o){return C("Module.instantiateWasm callback failed with error: "+o),!1}return function(){if(P||"function"!==typeof WebAssembly.instantiateStreaming||Fe(Re)||Ae(Re)||"function"!==typeof fetch)return n(r);fetch(Re,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}Fe(Re);var Ie,je={38892:function(e,t,r){var n=e,o=t,a=r;c.SDL2||(c.SDL2={});var i=c.SDL2;i.ctxCanvas!==c.canvas&&(i.ctx=c.createContext(c.canvas,!1,!0),i.ctxCanvas=c.canvas),i.w===n&&i.h===o&&i.imageCtx===i.ctx||(i.image=i.ctx.createImageData(n,o),i.w=n,i.h=o,i.imageCtx=i.ctx);var s,u=i.image.data,l=a>>2,f=0;if("undefined"!==typeof CanvasPixelArray&&u instanceof CanvasPixelArray)for(s=u.length;f<s;){var d=te[l];u[f]=255&d,u[f+1]=d>>8&255,u[f+2]=d>>16&255,u[f+3]=255,l++,f+=4}else{i.data32Data!==u&&(i.data32=new Int32Array(u.buffer),i.data8=new Uint8Array(u.buffer));var m=i.data32;s=m.length,m.set(te.subarray(l,l+s));var p=i.data8,g=3,h=g+4*s;if(s%8==0)for(;g<h;)p[g]=255,p[g=g+4|0]=255,p[g=g+4|0]=255,p[g=g+4|0]=255,p[g=g+4|0]=255,p[g=g+4|0]=255,p[g=g+4|0]=255,p[g=g+4|0]=255,g=g+4|0;else for(;g<h;)p[g]=255,g=g+4|0}return i.ctx.putImageData(i.image,0,0),0},40371:function(e,t,r,n,o){var a=e,i=t,s=r,u=n,c=o,l=document.createElement("canvas");l.width=a,l.height=i;var f,d=l.getContext("2d"),m=d.createImageData(a,i),p=m.data,g=c>>2,h=0;if("undefined"!==typeof CanvasPixelArray&&p instanceof CanvasPixelArray)for(f=p.length;h<f;){var v=te[g];p[h]=255&v,p[h+1]=v>>8&255,p[h+2]=v>>16&255,p[h+3]=v>>24&255,g++,h+=4}else{var y=new Int32Array(p.buffer);f=y.length,y.set(te.subarray(g,g+f))}d.putImageData(m,0,0);var _=0===s&&0===u?"url("+l.toDataURL()+"), auto":"url("+l.toDataURL()+") "+s+" "+u+", auto",w=Xs(_.length+1);return X(_,w,_.length+1),w},41360:function(e){return c.canvas&&(c.canvas.style.cursor=q(e)),0},41453:function(){c.canvas&&(c.canvas.style.cursor="none")},42678:function(){return screen.width},42705:function(){return screen.height},42733:function(){return window.innerWidth},42765:function(){return window.innerHeight},42843:function(e){return"undefined"!==typeof b&&b(q(e)),0},42977:function(){return"undefined"!==typeof AudioContext||"undefined"!==typeof webkitAudioContext?1:0},43143:function(){return"undefined"!==typeof navigator.mediaDevices&&"undefined"!==typeof navigator.mediaDevices.getUserMedia||"undefined"!==typeof navigator.webkitGetUserMedia?1:0},43369:function(e){"undefined"===typeof c.SDL2&&(c.SDL2={});var t=c.SDL2;return e?t.capture={}:t.audio={},t.audioContext||("undefined"!==typeof AudioContext?t.audioContext=new AudioContext:"undefined"!==typeof webkitAudioContext&&(t.audioContext=new webkitAudioContext),t.audioContext&&qe(t.audioContext)),void 0===t.audioContext?-1:0},43922:function(){return c.SDL2.audioContext.sampleRate},43992:function(e,t,r,n){var o=c.SDL2,a=function(a){void 0!==o.capture.silenceTimer&&(clearTimeout(o.capture.silenceTimer),o.capture.silenceTimer=void 0),o.capture.mediaStreamNode=o.audioContext.createMediaStreamSource(a),o.capture.scriptProcessorNode=o.audioContext.createScriptProcessor(t,e,1),o.capture.scriptProcessorNode.onaudioprocess=function(e){void 0!==o&&void 0!==o.capture&&(e.outputBuffer.getChannelData(0).fill(0),o.capture.currentCaptureBuffer=e.inputBuffer,Ve("vi",r,[n]))},o.capture.mediaStreamNode.connect(o.capture.scriptProcessorNode),o.capture.scriptProcessorNode.connect(o.audioContext.destination),o.capture.stream=a},i=function(e){};o.capture.silenceBuffer=o.audioContext.createBuffer(e,t,o.audioContext.sampleRate),o.capture.silenceBuffer.getChannelData(0).fill(0);o.capture.silenceTimer=setTimeout((function(){o.capture.currentCaptureBuffer=o.capture.silenceBuffer,Ve("vi",r,[n])}),t/o.audioContext.sampleRate*1e3),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(a).catch(i):void 0!==navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0,video:!1},a,i)},45644:function(e,t,r,n){var o=c.SDL2;o.audio.scriptProcessorNode=o.audioContext.createScriptProcessor(t,0,e),o.audio.scriptProcessorNode.onaudioprocess=function(e){void 0!==o&&void 0!==o.audio&&(o.audio.currentOutputBuffer=e.outputBuffer,Ve("vi",r,[n]))},o.audio.scriptProcessorNode.connect(o.audioContext.destination)},46054:function(e,t){for(var r=c.SDL2,n=r.capture.currentCaptureBuffer.numberOfChannels,o=0;o<n;++o){var a=r.capture.currentCaptureBuffer.getChannelData(o);if(a.length!=t)throw"Web Audio capture buffer length mismatch! Destination size: "+a.length+" samples vs expected "+t+" samples!";if(1==n)for(var i=0;i<t;++i)j(e+4*i,a[i],"float");else for(i=0;i<t;++i)j(e+4*(i*n+o),a[i],"float")}},46659:function(e,t){for(var r=c.SDL2,n=r.audio.currentOutputBuffer.numberOfChannels,o=0;o<n;++o){var a=r.audio.currentOutputBuffer.getChannelData(o);if(a.length!=t)throw"Web Audio output buffer length mismatch! Destination size: "+a.length+" samples vs expected "+t+" samples!";for(var i=0;i<t;++i)a[i]=ne[e+(i*n+o<<2)>>2]}},47139:function(e){var t=c.SDL2;if(e){if(void 0!==t.capture.silenceTimer&&clearTimeout(t.capture.silenceTimer),void 0!==t.capture.stream){for(var r=t.capture.stream.getAudioTracks(),n=0;n<r.length;n++)t.capture.stream.removeTrack(r[n]);t.capture.stream=void 0}void 0!==t.capture.scriptProcessorNode&&(t.capture.scriptProcessorNode.onaudioprocess=function(e){},t.capture.scriptProcessorNode.disconnect(),t.capture.scriptProcessorNode=void 0),void 0!==t.capture.mediaStreamNode&&(t.capture.mediaStreamNode.disconnect(),t.capture.mediaStreamNode=void 0),void 0!==t.capture.silenceBuffer&&(t.capture.silenceBuffer=void 0),t.capture=void 0}else void 0!=t.audio.scriptProcessorNode&&(t.audio.scriptProcessorNode.disconnect(),t.audio.scriptProcessorNode=void 0),t.audio=void 0;void 0!==t.audioContext&&void 0===t.audio&&void 0===t.capture&&(t.audioContext.close(),t.audioContext=void 0)}};function Ne(e,t){if(Ue.mainLoop.timingMode=e,Ue.mainLoop.timingValue=t,!Ue.mainLoop.func)return 1;if(0==e)Ue.mainLoop.scheduler=function(){var e=0|Math.max(0,Ue.mainLoop.tickStartTime+t-Ie());setTimeout(Ue.mainLoop.runner,e)},Ue.mainLoop.method="timeout";else if(1==e)Ue.mainLoop.scheduler=function(){Ue.requestAnimationFrame(Ue.mainLoop.runner)},Ue.mainLoop.method="rAF";else if(2==e){if("undefined"===typeof a){var r=[];addEventListener("message",(function(e){"setimmediate"!==e.data&&"setimmediate"!==e.data.target||(e.stopPropagation(),r.shift()())}),!0),a=function(e){r.push(e),h?(void 0===c.setImmediates&&(c.setImmediates=[]),c.setImmediates.push(e),postMessage({target:"setimmediate"})):postMessage("setimmediate","*")}}Ue.mainLoop.scheduler=function(){a(Ue.mainLoop.runner)},Ue.mainLoop.method="immediate"}return 0}function Ge(e,t,r,n,o){T=!0,G(!Ue.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Ue.mainLoop.func=e,Ue.mainLoop.arg=n;var a=Ue.mainLoop.currentlyRunningMainloop;if(Ue.mainLoop.runner=function(){if(!N)if(Ue.mainLoop.queue.length>0){var t=Date.now(),r=Ue.mainLoop.queue.shift();if(r.func(r.arg),Ue.mainLoop.remainingBlockers){var n=Ue.mainLoop.remainingBlockers,o=n%1==0?n-1:Math.floor(n);r.counted?Ue.mainLoop.remainingBlockers=o:(o+=.5,Ue.mainLoop.remainingBlockers=(8*n+o)/9)}if(console.log('main loop blocker "'+r.name+'" took '+(Date.now()-t)+" ms"),Ue.mainLoop.updateStatus(),a<Ue.mainLoop.currentlyRunningMainloop)return;setTimeout(Ue.mainLoop.runner,0)}else a<Ue.mainLoop.currentlyRunningMainloop||(Ue.mainLoop.currentFrameNumber=Ue.mainLoop.currentFrameNumber+1|0,1==Ue.mainLoop.timingMode&&Ue.mainLoop.timingValue>1&&Ue.mainLoop.currentFrameNumber%Ue.mainLoop.timingValue!=0?Ue.mainLoop.scheduler():(0==Ue.mainLoop.timingMode&&(Ue.mainLoop.tickStartTime=Ie()),Ue.mainLoop.runIter(e),a<Ue.mainLoop.currentlyRunningMainloop||("object"===typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Ue.mainLoop.scheduler())))},o||(t&&t>0?Ne(0,1e3/t):Ne(1,1),Ue.mainLoop.scheduler()),r)throw"unwind"}Ie=v?function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof dateNow?dateNow:function(){return performance.now()};var Ue={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Ue.mainLoop.scheduler=null,Ue.mainLoop.currentlyRunningMainloop++},resume:function(){Ue.mainLoop.currentlyRunningMainloop++;var e=Ue.mainLoop.timingMode,t=Ue.mainLoop.timingValue,r=Ue.mainLoop.func;Ue.mainLoop.func=null,Ge(r,0,!1,Ue.mainLoop.arg,!0),Ne(e,t),Ue.mainLoop.scheduler()},updateStatus:function(){if(c.setStatus){var e=c.statusMessage||"Please wait...",t=Ue.mainLoop.remainingBlockers,r=Ue.mainLoop.expectedBlockers;t?t<r?c.setStatus(e+" ("+(r-t)+"/"+r+")"):c.setStatus(e):c.setStatus("")}},runIter:function(e){if(!N){if(c.preMainLoop)if(!1===c.preMainLoop())return;try{e()}catch(t){if(t instanceof pu)return;if("unwind"==t)return;throw t&&"object"===typeof t&&t.stack&&C("exception thrown: "+[t,t.stack]),t}c.postMainLoop&&c.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(c.preloadPlugins||(c.preloadPlugins=[]),!Ue.initted){Ue.initted=!0;try{new Blob,Ue.hasBlobConstructor=!0}catch(o){Ue.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Ue.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Ue.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Ue.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,c.noImageDecoding||"undefined"!==typeof Ue.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),c.noImageDecoding=!0);var e={canHandle:function(e){return!c.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,r,n){var a=null;if(Ue.hasBlobConstructor)try{(a=new Blob([e],{type:Ue.getMimetype(t)})).size!==e.length&&(a=new Blob([new Uint8Array(e).buffer],{type:Ue.getMimetype(t)}))}catch(o){A("Blob constructor present but fails: "+o+"; falling back to blob builder")}if(!a){var i=new Ue.BlobBuilder;i.append(new Uint8Array(e).buffer),a=i.getBlob()}var s=Ue.URLObject.createObjectURL(a),u=new Image;u.onload=function(){G(u.complete,"Image "+t+" could not be decoded");var n=document.createElement("canvas");n.width=u.width,n.height=u.height,n.getContext("2d").drawImage(u,0,0),c.preloadedImages[t]=n,Ue.URLObject.revokeObjectURL(s),r&&r(e)},u.onerror=function(e){console.log("Image "+s+" could not be decoded"),n&&n()},u.src=s}};c.preloadPlugins.push(e);var t={canHandle:function(e){return!c.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,n){var a=!1;function i(n){a||(a=!0,c.preloadedAudios[t]=n,r&&r(e))}function s(){a||(a=!0,c.preloadedAudios[t]=new Audio,n&&n())}if(!Ue.hasBlobConstructor)return s();try{var u=new Blob([e],{type:Ue.getMimetype(t)})}catch(o){return s()}var l=Ue.URLObject.createObjectURL(u),f=new Audio;f.addEventListener("canplaythrough",(function(){i(f)}),!1),f.onerror=function(r){a||(console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),f.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",n=0,o=0,a=0;a<e.length;a++)for(n=n<<8|e[a],o+=8;o>=6;){var i=n>>o-6&63;o-=6,r+=t[i]}return 2==o?(r+=t[(3&n)<<4],r+="=="):4==o&&(r+=t[(15&n)<<2],r+="="),r}(e),i(f))},f.src=l,Ue.safeSetTimeout((function(){i(f)}),1e4)}};c.preloadPlugins.push(t);var r=c.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),c.elementPointerLock&&r.addEventListener("click",(function(e){!Ue.pointerLock&&c.canvas.requestPointerLock&&(c.canvas.requestPointerLock(),e.preventDefault())}),!1))}function n(){Ue.pointerLock=document.pointerLockElement===c.canvas||document.mozPointerLockElement===c.canvas||document.webkitPointerLockElement===c.canvas||document.msPointerLockElement===c.canvas}},createContext:function(e,t,r,n){if(t&&c.ctx&&e==c.canvas)return c.ctx;var o,a;if(t){var i={antialias:!1,alpha:!1,majorVersion:1};if(n)for(var s in n)i[s]=n[s];"undefined"!==typeof St&&(a=St.createContext(e,i))&&(o=St.getContext(a).GLctx)}else o=e.getContext("2d");return o?(r&&(t||G("undefined"===typeof Ms,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),c.ctx=o,t&&St.makeContextCurrent(a),c.useWebGL=t,Ue.moduleContextCreatedCallbacks.forEach((function(e){e()})),Ue.init()),o):null},destroyContext:function(e,t,r){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,t){Ue.lockPointer=e,Ue.resizeCanvas=t,"undefined"===typeof Ue.lockPointer&&(Ue.lockPointer=!0),"undefined"===typeof Ue.resizeCanvas&&(Ue.resizeCanvas=!1);var r=c.canvas;function n(){Ue.isFullscreen=!1;var e=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(r.exitFullscreen=Ue.exitFullscreen,Ue.lockPointer&&r.requestPointerLock(),Ue.isFullscreen=!0,Ue.resizeCanvas?Ue.setFullscreenCanvasSize():Ue.updateCanvasDimensions(r)):(e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e),Ue.resizeCanvas?Ue.setWindowedCanvasSize():Ue.updateCanvasDimensions(r)),c.onFullScreen&&c.onFullScreen(Ue.isFullscreen),c.onFullscreen&&c.onFullscreen(Ue.isFullscreen)}Ue.fullscreenHandlersInstalled||(Ue.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var o=document.createElement("div");r.parentNode.insertBefore(o,r),o.appendChild(r),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),o.requestFullscreen()},exitFullscreen:function(){return!!Ue.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===Ue.nextRAF)Ue.nextRAF=t+1e3/60;else for(;t+2>=Ue.nextRAF;)Ue.nextRAF+=1e3/60;var r=Math.max(Ue.nextRAF-t,0);setTimeout(e,r)},requestAnimationFrame:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){"function"!==typeof requestAnimationFrame?(0,Ue.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)})),safeCallback:function(e){return function(){if(!N)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Ue.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Ue.allowAsyncCallbacks=!0,Ue.queuedAsyncCallbacks.length>0){var e=Ue.queuedAsyncCallbacks;Ue.queuedAsyncCallbacks=[],e.forEach((function(e){e()}))}},safeRequestAnimationFrame:function(e){return Ue.requestAnimationFrame((function(){N||(Ue.allowAsyncCallbacks?e():Ue.queuedAsyncCallbacks.push(e))}))},safeSetTimeout:function(e,t){return T=!0,setTimeout((function(){N||(Ue.allowAsyncCallbacks?e():Ue.queuedAsyncCallbacks.push(e))}),t)},safeSetInterval:function(e,t){return T=!0,setInterval((function(){N||Ue.allowAsyncCallbacks&&e()}),t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Ue.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Ue.mouseMovementX=Ue.mouseMovementY=0:(Ue.mouseMovementX=Ue.getMovementX(e),Ue.mouseMovementY=Ue.getMovementY(e)),"undefined"!=typeof SDL?(Ue.mouseX=SDL.mouseX+Ue.mouseMovementX,Ue.mouseY=SDL.mouseY+Ue.mouseMovementY):(Ue.mouseX+=Ue.mouseMovementX,Ue.mouseY+=Ue.mouseMovementY);else{var t=c.canvas.getBoundingClientRect(),r=c.canvas.width,n=c.canvas.height,o="undefined"!==typeof window.scrollX?window.scrollX:window.pageXOffset,a="undefined"!==typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var i=e.touch;if(void 0===i)return;var s=i.pageX-(o+t.left),u=i.pageY-(a+t.top),l={x:s*=r/t.width,y:u*=n/t.height};if("touchstart"===e.type)Ue.lastTouches[i.identifier]=l,Ue.touches[i.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var f=Ue.touches[i.identifier];f||(f=l),Ue.lastTouches[i.identifier]=f,Ue.touches[i.identifier]=l}return}var d=e.pageX-(o+t.left),m=e.pageY-(a+t.top);d*=r/t.width,m*=n/t.height,Ue.mouseMovementX=d-Ue.mouseX,Ue.mouseMovementY=m-Ue.mouseY,Ue.mouseX=d,Ue.mouseY=m}},asyncLoad:function(e,t,r,n){var o=n?"":"al "+e;w(e,(function(r){G(r,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(r)),o&&xe()}),(function(t){if(!r)throw'Loading data file "'+e+'" failed.';r()})),o&&ke()},resizeListeners:[],updateResizeListeners:function(){var e=c.canvas;Ue.resizeListeners.forEach((function(t){t(e.width,e.height)}))},setCanvasSize:function(e,t,r){var n=c.canvas;Ue.updateCanvasDimensions(n,e,t),r||Ue.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=re[SDL.screen>>2];e|=8388608,te[SDL.screen>>2]=e}Ue.updateCanvasDimensions(c.canvas),Ue.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=re[SDL.screen>>2];e&=-8388609,te[SDL.screen>>2]=e}Ue.updateCanvasDimensions(c.canvas),Ue.updateResizeListeners()},updateCanvasDimensions:function(e,t,r){t&&r?(e.widthNative=t,e.heightNative=r):(t=e.widthNative,r=e.heightNative);var n=t,o=r;if(c.forcedAspectRatio&&c.forcedAspectRatio>0&&(n/o<c.forcedAspectRatio?n=Math.round(o*c.forcedAspectRatio):o=Math.round(n/c.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/n,screen.height/o);n=Math.round(n*a),o=Math.round(o*a)}Ue.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=o&&(e.height=o),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),"undefined"!=typeof e.style&&(n!=t||o!=r?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",o+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Ue.nextWgetRequestHandle;return Ue.nextWgetRequestHandle++,e}};function ze(e,t,r){e.addEventListener(t,r,{once:!0})}function qe(e,t){t||(t=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach((function(r){t.forEach((function(t){t&&ze(t,r,(function(){"suspended"===e.state&&e.resume()}))}))}))}function He(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"===typeof r?void 0===t.arg?M.get(r)():M.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(c)}}function Xe(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function We(e,t,r){return r&&r.length?c["dynCall_"+e].apply(null,[t].concat(r)):c["dynCall_"+e].call(null,t)}function Ve(e,t,r){return-1!=e.indexOf("j")?We(e,t,r):M.get(t).apply(null,r)}function Ye(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Qe(){var e=Ye();return c.extraStackTrace&&(e+="\n"+c.extraStackTrace()),Xe(e)}var Ke={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Ze(e){return Xs(e+Ke.SIZE)+Ke.SIZE}function Je(e,t){}function $e(e){this.excPtr=e,this.ptr=e-Ke.SIZE,this.set_type=function(e){te[this.ptr+Ke.TYPE_OFFSET>>2]=e},this.get_type=function(){return te[this.ptr+Ke.TYPE_OFFSET>>2]},this.set_destructor=function(e){te[this.ptr+Ke.DESTRUCTOR_OFFSET>>2]=e},this.get_destructor=function(){return te[this.ptr+Ke.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(e){te[this.ptr+Ke.REFCOUNT_OFFSET>>2]=e},this.set_caught=function(e){e=e?1:0,Z[this.ptr+Ke.CAUGHT_OFFSET>>0]=e},this.get_caught=function(){return 0!=Z[this.ptr+Ke.CAUGHT_OFFSET>>0]},this.set_rethrown=function(e){e=e?1:0,Z[this.ptr+Ke.RETHROWN_OFFSET>>0]=e},this.get_rethrown=function(){return 0!=Z[this.ptr+Ke.RETHROWN_OFFSET>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=te[this.ptr+Ke.REFCOUNT_OFFSET>>2];te[this.ptr+Ke.REFCOUNT_OFFSET>>2]=e+1},this.release_ref=function(){var e=te[this.ptr+Ke.REFCOUNT_OFFSET>>2];return te[this.ptr+Ke.REFCOUNT_OFFSET>>2]=e-1,1===e}}function et(){return et.uncaught_exceptions>0}function tt(e,t,r){throw new $e(e).init(t,r),e,"uncaught_exception"in et?et.uncaught_exceptions++:et.uncaught_exceptions=1,e}function rt(e){return te[Ws()>>2]=e,e}var nt={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=nt.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=nt.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=nt.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return nt.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return nt.normalize(e.join("/"))},join2:function(e,t){return nt.normalize(e+"/"+t)}};function ot(){if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(v)try{var t=r(96);return function(){return t.randomBytes(1)[0]}}catch(n){}return function(){Se("randomDevice")}}var at={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:ct.cwd();if("string"!==typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=nt.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=at.resolve(e).substr(1),t=at.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),a=Math.min(n.length,o.length),i=a,s=0;s<a;s++)if(n[s]!==o[s]){i=s;break}var u=[];for(s=i;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(i))).join("/")}},it={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){it.ttys[e]={input:[],output:[],ops:t},ct.registerDevice(e,it.stream_ops)},stream_ops:{open:function(e){var t=it.ttys[e.node.rdev];if(!t)throw new ct.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.get_char)throw new ct.ErrnoError(60);for(var a=0,i=0;i<n;i++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(u){throw new ct.ErrnoError(29)}if(void 0===s&&0===a)throw new ct.ErrnoError(6);if(null===s||void 0===s)break;a++,t[r+i]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,n,o){if(!e.tty||!e.tty.ops.put_char)throw new ct.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,t[r+a])}catch(i){throw new ct.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(v){var r=i.alloc?i.alloc(256):new i(256),o=0;try{o=k.readSync(n.stdin.fd,r,0,256,null)}catch(a){if(-1==a.toString().indexOf("EOF"))throw a;o=0}t=o>0?r.slice(0,o).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Us(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(D(z(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(D(z(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(C(z(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(C(z(e.output,0)),e.output=[])}}};function st(e){for(var t=L(e,16384),r=Xs(t);e<t;)Z[r+e++]=0;return r}var ut={ops_table:null,mount:function(e){return ut.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(ct.isBlkdev(r)||ct.isFIFO(r))throw new ct.ErrnoError(63);ut.ops_table||(ut.ops_table={dir:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr,lookup:ut.node_ops.lookup,mknod:ut.node_ops.mknod,rename:ut.node_ops.rename,unlink:ut.node_ops.unlink,rmdir:ut.node_ops.rmdir,readdir:ut.node_ops.readdir,symlink:ut.node_ops.symlink},stream:{llseek:ut.stream_ops.llseek}},file:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr},stream:{llseek:ut.stream_ops.llseek,read:ut.stream_ops.read,write:ut.stream_ops.write,allocate:ut.stream_ops.allocate,mmap:ut.stream_ops.mmap,msync:ut.stream_ops.msync}},link:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr,readlink:ut.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr},stream:ct.chrdev_stream_ops}});var o=ct.createNode(e,t,r,n);return ct.isDir(o.mode)?(o.node_ops=ut.ops_table.dir.node,o.stream_ops=ut.ops_table.dir.stream,o.contents={}):ct.isFile(o.mode)?(o.node_ops=ut.ops_table.file.node,o.stream_ops=ut.ops_table.file.stream,o.usedBytes=0,o.contents=null):ct.isLink(o.mode)?(o.node_ops=ut.ops_table.link.node,o.stream_ops=ut.ops_table.link.stream):ct.isChrdev(o.mode)&&(o.node_ops=ut.ops_table.chrdev.node,o.stream_ops=ut.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=ct.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ct.isDir(e.mode)?t.size=4096:ct.isFile(e.mode)?t.size=e.usedBytes:ct.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ut.resizeFileStorage(e,t.size)},lookup:function(e,t){throw ct.genericErrors[44]},mknod:function(e,t,r,n){return ut.createNode(e,t,r,n)},rename:function(e,t,r){if(ct.isDir(e.mode)){var n;try{n=ct.lookupNode(t,r)}catch(a){}if(n)for(var o in n.contents)throw new ct.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=ct.lookupNode(e,t);for(var n in r.contents)throw new ct.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=ut.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!ct.isLink(e.mode))throw new ct.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-o,n);if(i>8&&a.subarray)t.set(a.subarray(o,o+i),r);else for(var s=0;s<i;s++)t[r+s]=a[o+s];return i},write:function(e,t,r,n,o,a){if(!n)return 0;var i=e.node;if(i.timestamp=Date.now(),t.subarray&&(!i.contents||i.contents.subarray)){if(a)return i.contents=t.subarray(r,r+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===o)return i.contents=t.slice(r,r+n),i.usedBytes=n,n;if(o+n<=i.usedBytes)return i.contents.set(t.subarray(r,r+n),o),n}if(ut.expandFileStorage(i,o+n),i.contents.subarray&&t.subarray)i.contents.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)i.contents[o+s]=t[r+s];return i.usedBytes=Math.max(i.usedBytes,o+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&ct.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new ct.ErrnoError(28);return n},allocate:function(e,t,r){ut.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,a){if(G(0===t),!ct.isFile(e.node.mode))throw new ct.ErrnoError(43);var i,s,u=e.node.contents;if(2&a||u.buffer!==K){if((n>0||n+r<u.length)&&(u=u.subarray?u.subarray(n,n+r):Array.prototype.slice.call(u,n,n+r)),s=!0,!(i=st(r)))throw new ct.ErrnoError(48);Z.set(u,i)}else s=!1,i=u.byteOffset;return{ptr:i,allocated:s}},msync:function(e,t,r,n,o){if(!ct.isFile(e.node.mode))throw new ct.ErrnoError(43);if(2&o)return 0;ut.stream_ops.write(e,t,0,n,r,!1);return 0}}},ct={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof ct.ErrnoError))throw e+" : "+Qe();return rt(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=at.resolve(ct.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new ct.ErrnoError(32);for(var o=nt.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),a=ct.root,i="/",s=0;s<o.length;s++){var u=s===o.length-1;if(u&&t.parent)break;if(a=ct.lookupNode(a,o[s]),i=nt.join2(i,o[s]),ct.isMountpoint(a)&&(!u||u&&t.follow_mount)&&(a=a.mounted.root),!u||t.follow)for(var c=0;ct.isLink(a.mode);){var l=ct.readlink(i);if(i=at.resolve(nt.dirname(i),l),a=ct.lookupPath(i,{recurse_count:t.recurse_count}).node,c++>40)throw new ct.ErrnoError(32)}}return{path:i,node:a}},getPath:function(e){for(var t;;){if(ct.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%ct.nameTable.length},hashAddNode:function(e){var t=ct.hashName(e.parent.id,e.name);e.name_next=ct.nameTable[t],ct.nameTable[t]=e},hashRemoveNode:function(e){var t=ct.hashName(e.parent.id,e.name);if(ct.nameTable[t]===e)ct.nameTable[t]=e.name_next;else for(var r=ct.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=ct.mayLookup(e);if(r)throw new ct.ErrnoError(r,e);for(var n=ct.hashName(e.id,t),o=ct.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===t)return o}return ct.lookup(e,t)},createNode:function(e,t,r,n){var o=new ct.FSNode(e,t,r,n);return ct.hashAddNode(o),o},destroyNode:function(e){ct.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=ct.flagModes[e];if("undefined"===typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return ct.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=ct.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{ct.lookupNode(e,t);return 20}catch(r){}return ct.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=ct.lookupNode(e,t)}catch(a){return a.errno}var o=ct.nodePermissions(e,"wx");if(o)return o;if(r){if(!ct.isDir(n.mode))return 54;if(ct.isRoot(n)||ct.getPath(n)===ct.cwd())return 10}else if(ct.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?ct.isLink(e.mode)?32:ct.isDir(e.mode)&&("r"!==ct.flagsToPermissionString(t)||512&t)?31:ct.nodePermissions(e,ct.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||ct.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!ct.streams[r])return r;throw new ct.ErrnoError(33)},getStream:function(e){return ct.streams[e]},createStream:function(e,t,r){ct.FSStream||(ct.FSStream=function(){},ct.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new ct.FSStream;for(var o in e)n[o]=e[o];e=n;var a=ct.nextfd(t,r);return e.fd=a,ct.streams[a]=e,e},closeStream:function(e){ct.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=ct.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ct.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){ct.devices[e]={stream_ops:t}},getDevice:function(e){return ct.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"===typeof e&&(t=e,e=!1),ct.syncFSRequests++,ct.syncFSRequests>1&&C("warning: "+ct.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=ct.getMounts(ct.root.mount),n=0;function o(e){return ct.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++n>=r.length&&o(null)}r.forEach((function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:function(e,t,r){var n,o="/"===r,a=!r;if(o&&ct.root)throw new ct.ErrnoError(10);if(!o&&!a){var i=ct.lookupPath(r,{follow_mount:!1});if(r=i.path,n=i.node,ct.isMountpoint(n))throw new ct.ErrnoError(10);if(!ct.isDir(n.mode))throw new ct.ErrnoError(54)}var s={type:e,opts:t,mountpoint:r,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,o?ct.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount:function(e){var t=ct.lookupPath(e,{follow_mount:!1});if(!ct.isMountpoint(t.node))throw new ct.ErrnoError(28);var r=t.node,n=r.mounted,o=ct.getMounts(n);Object.keys(ct.nameTable).forEach((function(e){for(var t=ct.nameTable[e];t;){var r=t.name_next;-1!==o.indexOf(t.mount)&&ct.destroyNode(t),t=r}})),r.mounted=null;var a=r.mount.mounts.indexOf(n);r.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=ct.lookupPath(e,{parent:!0}).node,o=nt.basename(e);if(!o||"."===o||".."===o)throw new ct.ErrnoError(28);var a=ct.mayCreate(n,o);if(a)throw new ct.ErrnoError(a);if(!n.node_ops.mknod)throw new ct.ErrnoError(63);return n.node_ops.mknod(n,o,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,ct.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,ct.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{ct.mkdir(n,t)}catch(a){if(20!=a.errno)throw a}}},mkdev:function(e,t,r){return"undefined"===typeof r&&(r=t,t=438),t|=8192,ct.mknod(e,t,r)},symlink:function(e,t){if(!at.resolve(e))throw new ct.ErrnoError(44);var r=ct.lookupPath(t,{parent:!0}).node;if(!r)throw new ct.ErrnoError(44);var n=nt.basename(t),o=ct.mayCreate(r,n);if(o)throw new ct.ErrnoError(o);if(!r.node_ops.symlink)throw new ct.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,o=nt.dirname(e),a=nt.dirname(t),i=nt.basename(e),s=nt.basename(t);if(r=ct.lookupPath(e,{parent:!0}).node,n=ct.lookupPath(t,{parent:!0}).node,!r||!n)throw new ct.ErrnoError(44);if(r.mount!==n.mount)throw new ct.ErrnoError(75);var u,c=ct.lookupNode(r,i),l=at.relative(e,a);if("."!==l.charAt(0))throw new ct.ErrnoError(28);if("."!==(l=at.relative(t,o)).charAt(0))throw new ct.ErrnoError(55);try{u=ct.lookupNode(n,s)}catch(m){}if(c!==u){var f=ct.isDir(c.mode),d=ct.mayDelete(r,i,f);if(d)throw new ct.ErrnoError(d);if(d=u?ct.mayDelete(n,s,f):ct.mayCreate(n,s))throw new ct.ErrnoError(d);if(!r.node_ops.rename)throw new ct.ErrnoError(63);if(ct.isMountpoint(c)||u&&ct.isMountpoint(u))throw new ct.ErrnoError(10);if(n!==r&&(d=ct.nodePermissions(r,"w")))throw new ct.ErrnoError(d);try{ct.trackingDelegate.willMovePath&&ct.trackingDelegate.willMovePath(e,t)}catch(m){C("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+m.message)}ct.hashRemoveNode(c);try{r.node_ops.rename(c,n,s)}catch(m){throw m}finally{ct.hashAddNode(c)}try{ct.trackingDelegate.onMovePath&&ct.trackingDelegate.onMovePath(e,t)}catch(m){C("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+m.message)}}},rmdir:function(e){var t=ct.lookupPath(e,{parent:!0}).node,r=nt.basename(e),n=ct.lookupNode(t,r),o=ct.mayDelete(t,r,!0);if(o)throw new ct.ErrnoError(o);if(!t.node_ops.rmdir)throw new ct.ErrnoError(63);if(ct.isMountpoint(n))throw new ct.ErrnoError(10);try{ct.trackingDelegate.willDeletePath&&ct.trackingDelegate.willDeletePath(e)}catch(a){C("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+a.message)}t.node_ops.rmdir(t,r),ct.destroyNode(n);try{ct.trackingDelegate.onDeletePath&&ct.trackingDelegate.onDeletePath(e)}catch(a){C("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},readdir:function(e){var t=ct.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new ct.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=ct.lookupPath(e,{parent:!0}).node,r=nt.basename(e),n=ct.lookupNode(t,r),o=ct.mayDelete(t,r,!1);if(o)throw new ct.ErrnoError(o);if(!t.node_ops.unlink)throw new ct.ErrnoError(63);if(ct.isMountpoint(n))throw new ct.ErrnoError(10);try{ct.trackingDelegate.willDeletePath&&ct.trackingDelegate.willDeletePath(e)}catch(a){C("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+a.message)}t.node_ops.unlink(t,r),ct.destroyNode(n);try{ct.trackingDelegate.onDeletePath&&ct.trackingDelegate.onDeletePath(e)}catch(a){C("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},readlink:function(e){var t=ct.lookupPath(e).node;if(!t)throw new ct.ErrnoError(44);if(!t.node_ops.readlink)throw new ct.ErrnoError(28);return at.resolve(ct.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=ct.lookupPath(e,{follow:!t}).node;if(!r)throw new ct.ErrnoError(44);if(!r.node_ops.getattr)throw new ct.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return ct.stat(e,!0)},chmod:function(e,t,r){var n;"string"===typeof e?n=ct.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new ct.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){ct.chmod(e,t,!0)},fchmod:function(e,t){var r=ct.getStream(e);if(!r)throw new ct.ErrnoError(8);ct.chmod(r.node,t)},chown:function(e,t,r,n){var o;"string"===typeof e?o=ct.lookupPath(e,{follow:!n}).node:o=e;if(!o.node_ops.setattr)throw new ct.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,r){ct.chown(e,t,r,!0)},fchown:function(e,t,r){var n=ct.getStream(e);if(!n)throw new ct.ErrnoError(8);ct.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new ct.ErrnoError(28);var r;"string"===typeof e?r=ct.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new ct.ErrnoError(63);if(ct.isDir(r.mode))throw new ct.ErrnoError(31);if(!ct.isFile(r.mode))throw new ct.ErrnoError(28);var n=ct.nodePermissions(r,"w");if(n)throw new ct.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=ct.getStream(e);if(!r)throw new ct.ErrnoError(8);if(0===(2097155&r.flags))throw new ct.ErrnoError(28);ct.truncate(r.node,t)},utime:function(e,t,r){var n=ct.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,o){if(""===e)throw new ct.ErrnoError(44);var a;if(r="undefined"===typeof r?438:r,r=64&(t="string"===typeof t?ct.modeStringToFlags(t):t)?4095&r|32768:0,"object"===typeof e)a=e;else{e=nt.normalize(e);try{a=ct.lookupPath(e,{follow:!(131072&t)}).node}catch(f){}}var i=!1;if(64&t)if(a){if(128&t)throw new ct.ErrnoError(20)}else a=ct.mknod(e,r,0),i=!0;if(!a)throw new ct.ErrnoError(44);if(ct.isChrdev(a.mode)&&(t&=-513),65536&t&&!ct.isDir(a.mode))throw new ct.ErrnoError(54);if(!i){var s=ct.mayOpen(a,t);if(s)throw new ct.ErrnoError(s)}512&t&&ct.truncate(a,0),t&=-131713;var u=ct.createStream({node:a,path:ct.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);u.stream_ops.open&&u.stream_ops.open(u),!c.logReadFiles||1&t||(ct.readFiles||(ct.readFiles={}),e in ct.readFiles||(ct.readFiles[e]=1,C("FS.trackingDelegate error on read file: "+e)));try{if(ct.trackingDelegate.onOpenFile){var l=0;1!==(2097155&t)&&(l|=ct.tracking.openFlags.READ),0!==(2097155&t)&&(l|=ct.tracking.openFlags.WRITE),ct.trackingDelegate.onOpenFile(e,l)}}catch(f){C("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+f.message)}return u},close:function(e){if(ct.isClosed(e))throw new ct.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{ct.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(ct.isClosed(e))throw new ct.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ct.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new ct.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(n<0||o<0)throw new ct.ErrnoError(28);if(ct.isClosed(e))throw new ct.ErrnoError(8);if(1===(2097155&e.flags))throw new ct.ErrnoError(8);if(ct.isDir(e.node.mode))throw new ct.ErrnoError(31);if(!e.stream_ops.read)throw new ct.ErrnoError(28);var a="undefined"!==typeof o;if(a){if(!e.seekable)throw new ct.ErrnoError(70)}else o=e.position;var i=e.stream_ops.read(e,t,r,n,o);return a||(e.position+=i),i},write:function(e,t,r,n,o,a){if(n<0||o<0)throw new ct.ErrnoError(28);if(ct.isClosed(e))throw new ct.ErrnoError(8);if(0===(2097155&e.flags))throw new ct.ErrnoError(8);if(ct.isDir(e.node.mode))throw new ct.ErrnoError(31);if(!e.stream_ops.write)throw new ct.ErrnoError(28);e.seekable&&1024&e.flags&&ct.llseek(e,0,2);var i="undefined"!==typeof o;if(i){if(!e.seekable)throw new ct.ErrnoError(70)}else o=e.position;var s=e.stream_ops.write(e,t,r,n,o,a);i||(e.position+=s);try{e.path&&ct.trackingDelegate.onWriteToFile&&ct.trackingDelegate.onWriteToFile(e.path)}catch(u){C("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+u.message)}return s},allocate:function(e,t,r){if(ct.isClosed(e))throw new ct.ErrnoError(8);if(t<0||r<=0)throw new ct.ErrnoError(28);if(0===(2097155&e.flags))throw new ct.ErrnoError(8);if(!ct.isFile(e.node.mode)&&!ct.isDir(e.node.mode))throw new ct.ErrnoError(43);if(!e.stream_ops.allocate)throw new ct.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,a){if(0!==(2&o)&&0===(2&a)&&2!==(2097155&e.flags))throw new ct.ErrnoError(2);if(1===(2097155&e.flags))throw new ct.ErrnoError(2);if(!e.stream_ops.mmap)throw new ct.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o,a)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new ct.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=ct.open(e,t.flags),o=ct.stat(e).size,a=new Uint8Array(o);return ct.read(n,a,0,o,0),"utf8"===t.encoding?r=z(a,0):"binary"===t.encoding&&(r=a),ct.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||"w";var n=ct.open(e,r.flags,r.mode);if("string"===typeof t){var o=new Uint8Array(W(t)+1),a=H(t,o,0,o.length);ct.write(n,o,0,a,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ct.write(n,t,0,t.byteLength,void 0,r.canOwn)}ct.close(n)},cwd:function(){return ct.currentPath},chdir:function(e){var t=ct.lookupPath(e,{follow:!0});if(null===t.node)throw new ct.ErrnoError(44);if(!ct.isDir(t.node.mode))throw new ct.ErrnoError(54);var r=ct.nodePermissions(t.node,"x");if(r)throw new ct.ErrnoError(r);ct.currentPath=t.path},createDefaultDirectories:function(){ct.mkdir("/tmp"),ct.mkdir("/home"),ct.mkdir("/home/web_user")},createDefaultDevices:function(){ct.mkdir("/dev"),ct.registerDevice(ct.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,o){return n}}),ct.mkdev("/dev/null",ct.makedev(1,3)),it.register(ct.makedev(5,0),it.default_tty_ops),it.register(ct.makedev(6,0),it.default_tty1_ops),ct.mkdev("/dev/tty",ct.makedev(5,0)),ct.mkdev("/dev/tty1",ct.makedev(6,0));var e=ot();ct.createDevice("/dev","random",e),ct.createDevice("/dev","urandom",e),ct.mkdir("/dev/shm"),ct.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ct.mkdir("/proc"),ct.mkdir("/proc/self"),ct.mkdir("/proc/self/fd"),ct.mount({mount:function(){var e=ct.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=+t,n=ct.getStream(r);if(!n)throw new ct.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return o.parent=o,o}},e}},{},"/proc/self/fd")},createStandardStreams:function(){c.stdin?ct.createDevice("/dev","stdin",c.stdin):ct.symlink("/dev/tty","/dev/stdin"),c.stdout?ct.createDevice("/dev","stdout",null,c.stdout):ct.symlink("/dev/tty","/dev/stdout"),c.stderr?ct.createDevice("/dev","stderr",null,c.stderr):ct.symlink("/dev/tty1","/dev/stderr");ct.open("/dev/stdin","r"),ct.open("/dev/stdout","w"),ct.open("/dev/stderr","w")},ensureErrnoError:function(){ct.ErrnoError||(ct.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ct.ErrnoError.prototype=new Error,ct.ErrnoError.prototype.constructor=ct.ErrnoError,[44].forEach((function(e){ct.genericErrors[e]=new ct.ErrnoError(e),ct.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){ct.ensureErrnoError(),ct.nameTable=new Array(4096),ct.mount(ut,{},"/"),ct.createDefaultDirectories(),ct.createDefaultDevices(),ct.createSpecialDirectories(),ct.filesystems={MEMFS:ut}},init:function(e,t,r){ct.init.initialized=!0,ct.ensureErrnoError(),c.stdin=e||c.stdin,c.stdout=t||c.stdout,c.stderr=r||c.stderr,ct.createStandardStreams()},quit:function(){ct.init.initialized=!1;var e=c._fflush;e&&e(0);for(var t=0;t<ct.streams.length;t++){var r=ct.streams[t];r&&ct.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){var r=ct.analyzePath(e,t);return r.exists?r.object:(rt(r.error),null)},analyzePath:function(e,t){try{e=(n=ct.lookupPath(e,{follow:!t})).path}catch(o){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ct.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=nt.basename(e),n=ct.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(o){r.error=o.errno}return r},createPath:function(e,t,r,n){e="string"===typeof e?e:ct.getPath(e);for(var o=t.split("/").reverse();o.length;){var a=o.pop();if(a){var i=nt.join2(e,a);try{ct.mkdir(i)}catch(s){}e=i}}return i},createFile:function(e,t,r,n,o){var a=nt.join2("string"===typeof e?e:ct.getPath(e),t),i=ct.getMode(n,o);return ct.create(a,i)},createDataFile:function(e,t,r,n,o,a){var i=t?nt.join2("string"===typeof e?e:ct.getPath(e),t):e,s=ct.getMode(n,o),u=ct.create(i,s);if(r){if("string"===typeof r){for(var c=new Array(r.length),l=0,f=r.length;l<f;++l)c[l]=r.charCodeAt(l);r=c}ct.chmod(u,146|s);var d=ct.open(u,"w");ct.write(d,r,0,r.length,0,a),ct.close(d),ct.chmod(u,s)}return u},createDevice:function(e,t,r,n){var o=nt.join2("string"===typeof e?e:ct.getPath(e),t),a=ct.getMode(!!r,!!n);ct.createDevice.major||(ct.createDevice.major=64);var i=ct.makedev(ct.createDevice.major++,0);return ct.registerDevice(i,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o,a){for(var i=0,s=0;s<o;s++){var u;try{u=r()}catch(c){throw new ct.ErrnoError(29)}if(void 0===u&&0===i)throw new ct.ErrnoError(6);if(null===u||void 0===u)break;i++,t[n+s]=u}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,o,a){for(var i=0;i<o;i++)try{n(t[r+i])}catch(s){throw new ct.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),i}}),ct.mkdev(o,a,i)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!_)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Us(_(e.url),!0),e.usedBytes=e.contents.length}catch(r){t=!1}return t||rt(29),t},createLazyFile:function(e,t,r,n,o){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,i=1048576;o||(i=n);var s=this;s.setDataGetter((function(e){var t=e*i,o=(e+1)*i-1;if(o=Math.min(o,n-1),"undefined"===typeof s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),n!==i&&o.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):Us(o.responseText||"",!0)}(t,o)),"undefined"===typeof s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!a&&n||(i=n=1,n=this.getter(0).length,i=n,D("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=i,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest){if(!h)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new a;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:i}}else s={isDevice:!1,url:r};var u=ct.createFile(e,t,s,n,o);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];c[e]=function(){if(!ct.forceLoadFile(u))throw new ct.ErrnoError(29);return t.apply(null,arguments)}})),c.read=function(e,t,r,n,o){if(!ct.forceLoadFile(u))throw new ct.ErrnoError(29);var a=e.node.contents;if(o>=a.length)return 0;var i=Math.min(a.length-o,n);if(a.slice)for(var s=0;s<i;s++)t[r+s]=a[o+s];else for(s=0;s<i;s++)t[r+s]=a.get(o+s);return i},u.stream_ops=c,u},createPreloadedFile:function(e,t,r,n,o,a,i,s,u,l){Ue.init();var f=t?at.resolve(nt.join2(e,t)):e;function d(r){function d(r){l&&l(),s||ct.createDataFile(e,t,r,n,o,u),a&&a(),xe()}var m=!1;c.preloadPlugins.forEach((function(e){m||e.canHandle(f)&&(e.handle(r,f,d,(function(){i&&i(),xe()})),m=!0)})),m||d(r)}ke(),"string"==typeof r?Ue.asyncLoad(r,(function(e){d(e)}),i):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ct.indexedDB();try{var o=n.open(ct.DB_NAME(),ct.DB_VERSION)}catch(a){return r(a)}o.onupgradeneeded=function(){D("creating db"),o.result.createObjectStore(ct.DB_STORE_NAME)},o.onsuccess=function(){var n=o.result.transaction([ct.DB_STORE_NAME],"readwrite"),a=n.objectStore(ct.DB_STORE_NAME),i=0,s=0,u=e.length;function c(){0==s?t():r()}e.forEach((function(e){var t=a.put(ct.analyzePath(e).object.contents,e);t.onsuccess=function(){++i+s==u&&c()},t.onerror=function(){s++,i+s==u&&c()}})),n.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ct.indexedDB();try{var o=n.open(ct.DB_NAME(),ct.DB_VERSION)}catch(a){return r(a)}o.onupgradeneeded=r,o.onsuccess=function(){var n=o.result;try{var i=n.transaction([ct.DB_STORE_NAME],"readonly")}catch(a){return void r(a)}var s=i.objectStore(ct.DB_STORE_NAME),u=0,c=0,l=e.length;function f(){0==c?t():r()}e.forEach((function(e){var t=s.get(e);t.onsuccess=function(){ct.analyzePath(e).exists&&ct.unlink(e),ct.createDataFile(nt.dirname(e),nt.basename(e),t.result,!0,!0,!0),++u+c==l&&f()},t.onerror=function(){c++,u+c==l&&f()}})),i.onerror=r},o.onerror=r}},lt={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=ct.cwd();else{var n=ct.getStream(e);if(!n)throw new ct.ErrnoError(8);r=n.path}t=nt.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(o){if(o&&o.node&&nt.normalize(t)!==nt.normalize(ct.getPath(o.node)))return-54;throw o}return te[r>>2]=n.dev,te[r+4>>2]=0,te[r+8>>2]=n.ino,te[r+12>>2]=n.mode,te[r+16>>2]=n.nlink,te[r+20>>2]=n.uid,te[r+24>>2]=n.gid,te[r+28>>2]=n.rdev,te[r+32>>2]=0,Te=[n.size>>>0,(Pe=n.size,+Math.abs(Pe)>=1?Pe>0?(0|Math.min(+Math.floor(Pe/4294967296),4294967295))>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],te[r+40>>2]=Te[0],te[r+44>>2]=Te[1],te[r+48>>2]=4096,te[r+52>>2]=n.blocks,te[r+56>>2]=n.atime.getTime()/1e3|0,te[r+60>>2]=0,te[r+64>>2]=n.mtime.getTime()/1e3|0,te[r+68>>2]=0,te[r+72>>2]=n.ctime.getTime()/1e3|0,te[r+76>>2]=0,Te=[n.ino>>>0,(Pe=n.ino,+Math.abs(Pe)>=1?Pe>0?(0|Math.min(+Math.floor(Pe/4294967296),4294967295))>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],te[r+80>>2]=Te[0],te[r+84>>2]=Te[1],0},doMsync:function(e,t,r,n,o){var a=J.slice(e,e+r);ct.msync(t,a,o,r,n)},doMkdir:function(e,t){return"/"===(e=nt.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),ct.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ct.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=ct.readlink(e),o=Math.min(r,W(n)),a=Z[t+o];return X(n,t,r+1),Z[t+o]=a,o},doAccess:function(e,t){if(-8&t)return-28;var r;if(!(r=ct.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&ct.nodePermissions(r,n)?-2:0},doDup:function(e,t,r){var n=ct.getStream(r);return n&&ct.close(n),ct.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=te[t+8*a>>2],s=te[t+(8*a+4)>>2],u=ct.read(e,Z,i,s,n);if(u<0)return-1;if(o+=u,u<s)break}return o},doWritev:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var i=te[t+8*a>>2],s=te[t+(8*a+4)>>2],u=ct.write(e,Z,i,s,n);if(u<0)return-1;o+=u}return o},varargs:void 0,get:function(){return lt.varargs+=4,te[lt.varargs-4>>2]},getStr:function(e){return q(e)},getStreamFromFD:function(e){var t=ct.getStream(e);if(!t)throw new ct.ErrnoError(8);return t},get64:function(e,t){return e}};function ft(e,t,r){lt.varargs=r;try{var n=lt.getStreamFromFD(e);switch(t){case 0:return(o=lt.get())<0?-28:ct.open(n.path,n.flags,0,o).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var o=lt.get();return n.flags|=o,0;case 12:o=lt.get();return $[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return rt(28),-1;default:return-28}}catch(a){return"undefined"!==typeof ct&&a instanceof ct.ErrnoError||Se(a),-a.errno}}function dt(e,t,r){lt.varargs=r;try{var n=lt.getStreamFromFD(e);switch(t){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=lt.get();return te[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:o=lt.get();return ct.ioctl(n,t,o);case 21523:case 21524:return n.tty?0:-59;default:Se("bad ioctl syscall "+t)}}catch(a){return"undefined"!==typeof ct&&a instanceof ct.ErrnoError||Se(a),-a.errno}}function mt(e,t,r){lt.varargs=r;try{var n=lt.getStr(e),o=lt.get();return ct.open(n,t,o).fd}catch(a){return"undefined"!==typeof ct&&a instanceof ct.ErrnoError||Se(a),-a.errno}}function pt(){Se()}var gt=!0;function ht(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e||!gt)return rt(28),-1;r=Ie()}return te[t>>2]=r/1e3|0,te[t+4>>2]=r%1e3*1e3*1e3|0,0}function vt(e){Se("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}var yt={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode:function(e){yt.errorCode=e},chooseConfig:function(e,t,r,n,o){if(62e3!=e)return yt.setErrorCode(12296),0;if(t)for(;;){var a=te[t>>2];if(12321==a){var i=te[t+4>>2];yt.contextAttributes.alpha=i>0}else if(12325==a){var s=te[t+4>>2];yt.contextAttributes.depth=s>0}else if(12326==a){var u=te[t+4>>2];yt.contextAttributes.stencil=u>0}else if(12337==a){var c=te[t+4>>2];yt.contextAttributes.antialias=c>0}else if(12338==a){c=te[t+4>>2];yt.contextAttributes.antialias=1==c}else if(12544==a){var l=te[t+4>>2];yt.contextAttributes.lowLatency=12547!=l}else if(12344==a)break;t+=8}return r&&n||o?(o&&(te[o>>2]=1),r&&n>0&&(te[r>>2]=62002),yt.setErrorCode(12288),1):(yt.setErrorCode(12300),0)}};function _t(e){return 12448==e?(yt.setErrorCode(12288),1):(yt.setErrorCode(12300),0)}function wt(e,t,r,n,o){return yt.chooseConfig(e,t,r,n,o)}function Et(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)return e.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,n,o){t.drawArraysInstancedANGLE(e,r,n,o)},e.drawElementsInstanced=function(e,r,n,o,a){t.drawElementsInstancedANGLE(e,r,n,o,a)},1}function bt(e){var t=e.getExtension("OES_vertex_array_object");if(t)return e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)},1}function kt(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)return e.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)},1}function xt(e){return!!(e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw"))}var St={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(e){St.lastError||(St.lastError=e)},getNewId:function(e){for(var t=St.counter++,r=e.length;r<t;r++)e[r]=null;return t},getSource:function(e,t,r,n){for(var o="",a=0;a<t;++a){var i=n?te[n+4*a>>2]:-1;o+=q(te[r+4*a>>2],i<0?void 0:i)}return o},createContext:function(e,t){var r=e.getContext("webgl",t);return r?St.registerContext(r,t):0},registerContext:function(e,t){var r=St.getNewId(St.contexts),n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),St.contexts[r]=n,("undefined"===typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&St.initExtensions(n),r},makeContextCurrent:function(e){return St.currentContext=St.contexts[e],c.ctx=Ms=St.currentContext&&St.currentContext.GLctx,!(e&&!Ms)},getContext:function(e){return St.contexts[e]},deleteContext:function(e){St.currentContext===St.contexts[e]&&(St.currentContext=null),"object"===typeof Ht&&Ht.removeAllHandlersOnTarget(St.contexts[e].GLctx.canvas),St.contexts[e]&&St.contexts[e].GLctx.canvas&&(St.contexts[e].GLctx.canvas.GLctxObject=void 0),St.contexts[e]=null},initExtensions:function(e){if(e||(e=St.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;Et(t),bt(t),kt(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),xt(t);var r=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","EXT_texture_norm16","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2","WEBKIT_WEBGL_compressed_texture_pvrtc"];(t.getSupportedExtensions()||[]).forEach((function(e){-1!=r.indexOf(e)&&t.getExtension(e)}))}},populateUniformTable:function(e){for(var t=St.programs[e],r=St.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=r.uniforms,o=Ms.getProgramParameter(t,35718),a=0;a<o;++a){var i=Ms.getActiveUniform(t,a),s=i.name;r.maxUniformLength=Math.max(r.maxUniformLength,s.length+1),"]"==s.slice(-1)&&(s=s.slice(0,s.lastIndexOf("[")));var u=Ms.getUniformLocation(t,s);if(u){var c=St.getNewId(St.uniforms);n[s]=[i.size,c],St.uniforms[c]=u;for(var l=1;l<i.size;++l){var f=s+"["+l+"]";u=Ms.getUniformLocation(t,f),c=St.getNewId(St.uniforms),St.uniforms[c]=u}}}}};function Dt(e,t,r,n){if(62e3!=e)return yt.setErrorCode(12296),0;for(var o=1;;){var a=te[n>>2];if(12440!=a){if(12344==a)break;return yt.setErrorCode(12292),0}o=te[n+4>>2],n+=8}return 2!=o?(yt.setErrorCode(12293),0):(yt.contextAttributes.majorVersion=o-1,yt.contextAttributes.minorVersion=0,yt.context=St.createContext(c.canvas,yt.contextAttributes),0!=yt.context?(yt.setErrorCode(12288),St.makeContextCurrent(yt.context),c.useWebGL=!0,Ue.moduleContextCreatedCallbacks.forEach((function(e){e()})),St.makeContextCurrent(null),62004):(yt.setErrorCode(12297),0))}function Ct(e,t,r,n){return 62e3!=e?(yt.setErrorCode(12296),0):62002!=t?(yt.setErrorCode(12293),0):(yt.setErrorCode(12288),62006)}function Ft(e,t){return 62e3!=e?(yt.setErrorCode(12296),0):62004!=t?(yt.setErrorCode(12294),0):(St.deleteContext(yt.context),yt.setErrorCode(12288),yt.currentContext==t&&(yt.currentContext=0),1)}function Lt(e,t){return 62e3!=e?(yt.setErrorCode(12296),0):62006!=t?(yt.setErrorCode(12301),1):(yt.currentReadSurface==t&&(yt.currentReadSurface=0),yt.currentDrawSurface==t&&(yt.currentDrawSurface=0),yt.setErrorCode(12288),1)}function At(e,t,r,n){if(62e3!=e)return yt.setErrorCode(12296),0;if(62002!=t)return yt.setErrorCode(12293),0;if(!n)return yt.setErrorCode(12300),0;switch(yt.setErrorCode(12288),r){case 12320:return te[n>>2]=yt.contextAttributes.alpha?32:24,1;case 12321:return te[n>>2]=yt.contextAttributes.alpha?8:0,1;case 12322:case 12323:case 12324:return te[n>>2]=8,1;case 12325:return te[n>>2]=yt.contextAttributes.depth?24:0,1;case 12326:return te[n>>2]=yt.contextAttributes.stencil?8:0,1;case 12327:return te[n>>2]=12344,1;case 12328:return te[n>>2]=62002,1;case 12329:return te[n>>2]=0,1;case 12330:return te[n>>2]=4096,1;case 12331:return te[n>>2]=16777216,1;case 12332:return te[n>>2]=4096,1;case 12333:case 12334:return te[n>>2]=0,1;case 12335:return te[n>>2]=12344,1;case 12337:return te[n>>2]=yt.contextAttributes.antialias?4:0,1;case 12338:return te[n>>2]=yt.contextAttributes.antialias?1:0,1;case 12339:return te[n>>2]=4,1;case 12340:return te[n>>2]=12344,1;case 12341:case 12342:case 12343:return te[n>>2]=-1,1;case 12345:case 12346:case 12347:return te[n>>2]=0,1;case 12348:return te[n>>2]=1,1;case 12349:case 12350:return te[n>>2]=0,1;case 12351:return te[n>>2]=12430,1;case 12352:return te[n>>2]=4,1;case 12354:return te[n>>2]=0,1;default:return yt.setErrorCode(12292),0}}function Pt(e){return yt.setErrorCode(12288),62e3}function Tt(){return yt.errorCode}function Rt(e){return Vs(e)}function Mt(e,t,r){return 62e3==e?(t&&(te[t>>2]=1),r&&(te[r>>2]=4),yt.defaultDisplayInitialized=!0,yt.setErrorCode(12288),1):(yt.setErrorCode(12296),0)}function Bt(e,t,r,n){return 62e3!=e?(yt.setErrorCode(12296),0):0!=n&&62004!=n?(yt.setErrorCode(12294),0):0!=r&&62006!=r||0!=t&&62006!=t?(yt.setErrorCode(12301),0):(St.makeContextCurrent(n?yt.context:null),yt.currentContext=n,yt.currentDrawSurface=t,yt.currentReadSurface=r,yt.setErrorCode(12288),1)}function Ot(e,t){if(62e3!=e)return yt.setErrorCode(12296),0;if(yt.setErrorCode(12288),yt.stringCache[t])return yt.stringCache[t];var r;switch(t){case 12371:r=V("Emscripten");break;case 12372:r=V("1.4 Emscripten EGL");break;case 12373:r=V("");break;case 12429:r=V("OpenGL_ES");break;default:return yt.setErrorCode(12300),0}return yt.stringCache[t]=r,r}function It(){if(yt.defaultDisplayInitialized)if(c.ctx){if(!c.ctx.isContextLost())return yt.setErrorCode(12288),1;yt.setErrorCode(12302)}else yt.setErrorCode(12290);else yt.setErrorCode(12289);return 0}function jt(e,t){return 62e3!=e?(yt.setErrorCode(12296),0):(0==t?Ne(0,0):Ne(1,t),yt.setErrorCode(12288),1)}function Nt(e){return 62e3!=e?(yt.setErrorCode(12296),0):(yt.currentContext=0,yt.currentReadSurface=0,yt.currentDrawSurface=0,yt.defaultDisplayInitialized=!1,yt.setErrorCode(12288),1)}function Gt(){return yt.setErrorCode(12288),1}function Ut(){return Gt()}function zt(e){return yt.setErrorCode(12288),1}function qt(e,t,r){var n=Rs(t,r);return je[e].apply(null,n)}var Ht={inEventHandler:0,removeAllEventListeners:function(){for(var e=Ht.eventHandlers.length-1;e>=0;--e)Ht._removeHandler(e);Ht.eventHandlers=[],Ht.deferredCalls=[]},registerRemoveEventListeners:function(){Ht.removeEventListenersRegistered||(fe.push(Ht.removeAllEventListeners),Ht.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,r){function n(e,t){if(e.length!=t.length)return!1;for(var r in e)if(e[r]!=t[r])return!1;return!0}for(var o in Ht.deferredCalls){var a=Ht.deferredCalls[o];if(a.targetFunction==e&&n(a.argsList,r))return}Ht.deferredCalls.push({targetFunction:e,precedence:t,argsList:r}),Ht.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<Ht.deferredCalls.length;++t)Ht.deferredCalls[t].targetFunction==e&&(Ht.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return Ht.inEventHandler&&Ht.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(Ht.canPerformEventHandlerRequests())for(var e=0;e<Ht.deferredCalls.length;++e){var t=Ht.deferredCalls[e];Ht.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var r=0;r<Ht.eventHandlers.length;++r)Ht.eventHandlers[r].target!=e||t&&t!=Ht.eventHandlers[r].eventTypeString||Ht._removeHandler(r--)},_removeHandler:function(e){var t=Ht.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),Ht.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++Ht.inEventHandler,Ht.currentEventHandler=e,Ht.runDeferredCalls(),e.handlerFunc(t),Ht.runDeferredCalls(),--Ht.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),Ht.eventHandlers.push(e),Ht.registerRemoveEventListeners();else for(var r=0;r<Ht.eventHandlers.length;++r)Ht.eventHandlers[r].target==e.target&&Ht.eventHandlers[r].eventTypeString==e.eventTypeString&&Ht._removeHandler(r--)},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},Xt={};function Wt(e){return e>2?q(e):e}var Vt=[0,"undefined"!==typeof document?document:0,"undefined"!==typeof window?window:0];function Yt(e){return e=Wt(e),Vt[e]||("undefined"!==typeof document?document.querySelector(e):void 0)}function Qt(e){return Yt(e)}function Kt(e,t,r){var n=Qt(e);if(!n)return-4;te[t>>2]=n.width,te[r>>2]=n.height}function Zt(e){var t=Ys(),r=Ks(8),n=r+4,o=Ks(e.id.length+1);X(e.id,o,e.id.length+1);Kt(o,r,n);var a=[te[r>>2],te[n>>2]];return Qs(t),a}function Jt(e,t,r){var n=Qt(e);return n?(n.width=t,n.height=r,0):-4}function $t(e,t,r){if(e.controlTransferredOffscreen){var n=Ys(),o=Ks(e.id.length+1);X(e.id,o,e.id.length+1),Jt(o,t,r),Qs(n)}else e.width=t,e.height=r}function er(e){var t=Zt(e),r=t[0],n=t[1],o=e.style.width,a=e.style.height,i=e.style.backgroundColor,s=document.body.style.backgroundColor,u=e.style.paddingLeft,c=e.style.paddingRight,l=e.style.paddingTop,f=e.style.paddingBottom,d=e.style.marginLeft,m=e.style.marginRight,p=e.style.marginTop,g=e.style.marginBottom,h=document.body.style.margin,v=document.documentElement.style.overflow,y=document.body.scroll,_=e.style.imageRendering;function w(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(document.removeEventListener("fullscreenchange",w),document.removeEventListener("webkitfullscreenchange",w),$t(e,r,n),e.style.width=o,e.style.height=a,e.style.backgroundColor=i,s||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=s,e.style.paddingLeft=u,e.style.paddingRight=c,e.style.paddingTop=l,e.style.paddingBottom=f,e.style.marginLeft=d,e.style.marginRight=m,e.style.marginTop=p,e.style.marginBottom=g,document.body.style.margin=h,document.documentElement.style.overflow=v,document.body.scroll=y,e.style.imageRendering=_,e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,r,n),Xt.canvasResizedCallback&&M.get(Xt.canvasResizedCallback)(37,0,Xt.canvasResizedCallbackUserData))}return document.addEventListener("fullscreenchange",w),document.addEventListener("webkitfullscreenchange",w),w}function tr(e,t,r){e.style.paddingLeft=e.style.paddingRight=r+"px",e.style.paddingTop=e.style.paddingBottom=t+"px"}function rr(e){return Vt.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0}}function nr(e,t){var r=er(e),n=t.softFullscreen?innerWidth:screen.width,o=t.softFullscreen?innerHeight:screen.height,a=rr(e),i=a.width,s=a.height,u=Zt(e),c=u[0],l=u[1];if(3==t.scaleMode)tr(e,(o-s)/2,(n-i)/2),n=i,o=s;else if(2==t.scaleMode)if(n*l<c*o){var f=l*n/c;tr(e,(o-f)/2,0),o=f}else{var d=c*o/l;tr(e,0,(n-d)/2),n=d}e.style.backgroundColor||(e.style.backgroundColor="black"),document.body.style.backgroundColor||(document.body.style.backgroundColor="black"),e.style.width=n+"px",e.style.height=o+"px",1==t.filteringMode&&(e.style.imageRendering="optimizeSpeed",e.style.imageRendering="-moz-crisp-edges",e.style.imageRendering="-o-crisp-edges",e.style.imageRendering="-webkit-optimize-contrast",e.style.imageRendering="optimize-contrast",e.style.imageRendering="crisp-edges",e.style.imageRendering="pixelated");var m=2==t.canvasResolutionScaleMode?devicePixelRatio:1;if(0!=t.canvasResolutionScaleMode){var p=n*m|0,g=o*m|0;$t(e,p,g),e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,p,g)}return r}function or(e,t){if(0==t.scaleMode&&0==t.canvasResolutionScaleMode||nr(e,t),e.requestFullscreen)e.requestFullscreen();else{if(!e.webkitRequestFullscreen)return Ht.fullscreenEnabled()?-3:-1;e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}return Xt=t,t.canvasResizedCallback&&M.get(t.canvasResizedCallback)(37,0,t.canvasResizedCallbackUserData),0}function ar(){if(!Ht.fullscreenEnabled())return-1;Ht.removeDeferredCalls(or);var e=Vt[1];if(e.exitFullscreen)e.fullscreenElement&&e.exitFullscreen();else{if(!e.webkitExitFullscreen)return-1;e.webkitFullscreenElement&&e.webkitExitFullscreen()}return 0}function ir(e){if(e.requestPointerLock)e.requestPointerLock();else{if(!e.msRequestPointerLock)return document.body.requestPointerLock||document.body.msRequestPointerLock?-3:-1;e.msRequestPointerLock()}return 0}function sr(){if(Ht.removeDeferredCalls(ir),document.exitPointerLock)document.exitPointerLock();else{if(!document.msExitPointerLock)return-1;document.msExitPointerLock()}return 0}function ur(){return"number"===typeof devicePixelRatio&&devicePixelRatio||1}function cr(e,t,r){if(!(e=Yt(e)))return-4;var n=rr(e);return oe[t>>3]=n.width,oe[r>>3]=n.height,0}function lr(e,t){oe[e>>3]=t.timestamp;for(var r=0;r<t.axes.length;++r)oe[e+8*r+16>>3]=t.axes[r];for(r=0;r<t.buttons.length;++r)"object"===typeof t.buttons[r]?oe[e+8*r+528>>3]=t.buttons[r].value:oe[e+8*r+528>>3]=t.buttons[r];for(r=0;r<t.buttons.length;++r)"object"===typeof t.buttons[r]?te[e+4*r+1040>>2]=t.buttons[r].pressed:te[e+4*r+1040>>2]=1==t.buttons[r];te[e+1296>>2]=t.connected,te[e+1300>>2]=t.index,te[e+8>>2]=t.axes.length,te[e+12>>2]=t.buttons.length,X(t.id,e+1304,64),X(t.mapping,e+1368,64)}function fr(e,t){return e<0||e>=Ht.lastGamepadState.length?-5:Ht.lastGamepadState[e]?(lr(t,Ht.lastGamepadState[e]),0):-7}function dr(){return Ht.lastGamepadState.length}function mr(e,t,r){(0|e)===e&&(e=q(e)),e=at.resolve(e);var n=c.preloadedImages[e];if(n){var o=n.getContext("2d").getImageData(0,0,n.width,n.height),a=Xs(n.width*n.height*4);return J.set(o.data,a),te[t>>2]=n.width,te[r>>2]=n.height,a}return 0}function pr(e,t,r){var n=c._fileno(e),o=ct.getStream(n);return o?mr(o.path,t,r):0}function gr(e){Ms.activeTexture(e)}function hr(e,t){Ms.attachShader(St.programs[e],St.shaders[t])}function vr(e,t){Ms.disjointTimerQueryExt.beginQueryEXT(e,St.timerQueriesEXT[t])}function yr(e,t,r){Ms.bindAttribLocation(St.programs[e],t,q(r))}function _r(e,t){Ms.bindBuffer(e,St.buffers[t])}function wr(e,t){Ms.bindFramebuffer(e,St.framebuffers[t])}function Er(e,t){Ms.bindRenderbuffer(e,St.renderbuffers[t])}function br(e,t){Ms.bindTexture(e,St.textures[t])}function kr(e){Ms.bindVertexArray(St.vaos[e])}function xr(e,t,r,n){Ms.blendColor(e,t,r,n)}function Sr(e){Ms.blendEquation(e)}function Dr(e,t){Ms.blendEquationSeparate(e,t)}function Cr(e,t){Ms.blendFunc(e,t)}function Fr(e,t,r,n){Ms.blendFuncSeparate(e,t,r,n)}function Lr(e,t,r,n){Ms.bufferData(e,r?J.subarray(r,r+t):t,n)}function Ar(e,t,r,n){Ms.bufferSubData(e,t,J.subarray(n,n+r))}function Pr(e){return Ms.checkFramebufferStatus(e)}function Tr(e){Ms.clear(e)}function Rr(e,t,r,n){Ms.clearColor(e,t,r,n)}function Mr(e){Ms.clearDepth(e)}function Br(e){Ms.clearStencil(e)}function Or(e,t,r,n){Ms.colorMask(!!e,!!t,!!r,!!n)}function Ir(e){Ms.compileShader(St.shaders[e])}function jr(e,t,r,n,o,a,i,s){Ms.compressedTexImage2D(e,t,r,n,o,a,s?J.subarray(s,s+i):null)}function Nr(e,t,r,n,o,a,i,s,u){Ms.compressedTexSubImage2D(e,t,r,n,o,a,i,u?J.subarray(u,u+s):null)}function Gr(e,t,r,n,o,a,i,s){Ms.copyTexImage2D(e,t,r,n,o,a,i,s)}function Ur(e,t,r,n,o,a,i,s){Ms.copyTexSubImage2D(e,t,r,n,o,a,i,s)}function zr(){var e=St.getNewId(St.programs),t=Ms.createProgram();return t.name=e,St.programs[e]=t,e}function qr(e){var t=St.getNewId(St.shaders);return St.shaders[t]=Ms.createShader(e),t}function Hr(e){Ms.cullFace(e)}function Xr(e,t){for(var r=0;r<e;r++){var n=te[t+4*r>>2],o=St.buffers[n];o&&(Ms.deleteBuffer(o),o.name=0,St.buffers[n]=null)}}function Wr(e,t){for(var r=0;r<e;++r){var n=te[t+4*r>>2],o=St.framebuffers[n];o&&(Ms.deleteFramebuffer(o),o.name=0,St.framebuffers[n]=null)}}function Vr(e){if(e){var t=St.programs[e];t?(Ms.deleteProgram(t),t.name=0,St.programs[e]=null,St.programInfos[e]=null):St.recordError(1281)}}function Yr(e,t){for(var r=0;r<e;r++){var n=te[t+4*r>>2],o=St.timerQueriesEXT[n];o&&(Ms.disjointTimerQueryExt.deleteQueryEXT(o),St.timerQueriesEXT[n]=null)}}function Qr(e,t){for(var r=0;r<e;r++){var n=te[t+4*r>>2],o=St.renderbuffers[n];o&&(Ms.deleteRenderbuffer(o),o.name=0,St.renderbuffers[n]=null)}}function Kr(e){if(e){var t=St.shaders[e];t?(Ms.deleteShader(t),St.shaders[e]=null):St.recordError(1281)}}function Zr(e,t){for(var r=0;r<e;r++){var n=te[t+4*r>>2],o=St.textures[n];o&&(Ms.deleteTexture(o),o.name=0,St.textures[n]=null)}}function Jr(e,t){for(var r=0;r<e;r++){var n=te[t+4*r>>2];Ms.deleteVertexArray(St.vaos[n]),St.vaos[n]=null}}function $r(e){Ms.depthFunc(e)}function en(e){Ms.depthMask(!!e)}function tn(e,t){Ms.depthRange(e,t)}function rn(e,t){Ms.detachShader(St.programs[e],St.shaders[t])}function nn(e){Ms.disable(e)}function on(e){Ms.disableVertexAttribArray(e)}function an(e,t,r){Ms.drawArrays(e,t,r)}function sn(e,t,r,n){Ms.drawArraysInstanced(e,t,r,n)}var un=[];function cn(e,t){for(var r=un[e],n=0;n<e;n++)r[n]=te[t+4*n>>2];Ms.drawBuffers(r)}function ln(e,t,r,n){Ms.drawElements(e,t,r,n)}function fn(e,t,r,n,o){Ms.drawElementsInstanced(e,t,r,n,o)}function dn(e){Ms.enable(e)}function mn(e){Ms.enableVertexAttribArray(e)}function pn(e){Ms.disjointTimerQueryExt.endQueryEXT(e)}function gn(){Ms.finish()}function hn(){Ms.flush()}function vn(e,t,r,n){Ms.framebufferRenderbuffer(e,t,r,St.renderbuffers[n])}function yn(e,t,r,n,o){Ms.framebufferTexture2D(e,t,r,St.textures[n],o)}function _n(e){Ms.frontFace(e)}function wn(e,t,r,n){for(var o=0;o<e;o++){var a=Ms[r](),i=a&&St.getNewId(n);a?(a.name=i,n[i]=a):St.recordError(1282),te[t+4*o>>2]=i}}function En(e,t){wn(e,t,"createBuffer",St.buffers)}function bn(e,t){wn(e,t,"createFramebuffer",St.framebuffers)}function kn(e,t){for(var r=0;r<e;r++){var n=Ms.disjointTimerQueryExt.createQueryEXT();if(!n){for(St.recordError(1282);r<e;)te[t+4*r++>>2]=0;return}var o=St.getNewId(St.timerQueriesEXT);n.name=o,St.timerQueriesEXT[o]=n,te[t+4*r>>2]=o}}function xn(e,t){wn(e,t,"createRenderbuffer",St.renderbuffers)}function Sn(e,t){wn(e,t,"createTexture",St.textures)}function Dn(e,t){wn(e,t,"createVertexArray",St.vaos)}function Cn(e){Ms.generateMipmap(e)}function Fn(e,t,r,n,o,a,i,s){t=St.programs[t];var u=Ms[e](t,r);if(u){var c=s&&X(u.name,s,n);o&&(te[o>>2]=c),a&&(te[a>>2]=u.size),i&&(te[i>>2]=u.type)}}function Ln(e,t,r,n,o,a,i){Fn("getActiveAttrib",e,t,r,n,o,a,i)}function An(e,t,r,n,o,a,i){Fn("getActiveUniform",e,t,r,n,o,a,i)}function Pn(e,t,r,n){var o=Ms.getAttachedShaders(St.programs[e]),a=o.length;a>t&&(a=t),te[r>>2]=a;for(var i=0;i<a;++i){var s=St.shaders.indexOf(o[i]);te[n+4*i>>2]=s}}function Tn(e,t){return Ms.getAttribLocation(St.programs[e],q(t))}function Rn(e,t){re[e>>2]=t,re[e+4>>2]=(t-re[e>>2])/4294967296}function Mn(e,t,r){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=r&&1!=r&&St.recordError(1280));case 36345:n=0;break;case 34466:var o=Ms.getParameter(34467);n=o?o.length:0}if(void 0===n){var a=Ms.getParameter(e);switch(typeof a){case"number":n=a;break;case"boolean":n=a?1:0;break;case"string":return void St.recordError(1280);case"object":if(null===a)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:n=0;break;default:return void St.recordError(1280)}else{if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(var i=0;i<a.length;++i)switch(r){case 0:te[t+4*i>>2]=a[i];break;case 2:ne[t+4*i>>2]=a[i];break;case 4:Z[t+i>>0]=a[i]?1:0}return}try{n=0|a.name}catch(s){return St.recordError(1280),void C("GL_INVALID_ENUM in glGet"+r+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+s+")")}}break;default:return St.recordError(1280),void C("GL_INVALID_ENUM in glGet"+r+"v: Native code calling glGet"+r+"v("+e+") and it returns "+a+" of type "+typeof a+"!")}}switch(r){case 1:Rn(t,n);break;case 0:te[t>>2]=n;break;case 2:ne[t>>2]=n;break;case 4:Z[t>>0]=n?1:0}}else St.recordError(1281)}function Bn(e,t){Mn(e,t,4)}function On(e,t,r){r?te[r>>2]=Ms.getBufferParameter(e,t):St.recordError(1281)}function In(){var e=Ms.getError()||St.lastError;return St.lastError=0,e}function jn(e,t){Mn(e,t,2)}function Nn(e,t,r,n){var o=Ms.getFramebufferAttachmentParameter(e,t,r);(o instanceof WebGLRenderbuffer||o instanceof WebGLTexture)&&(o=0|o.name),te[n>>2]=o}function Gn(e,t){Mn(e,t,0)}function Un(e,t,r,n){var o=Ms.getProgramInfoLog(St.programs[e]);null===o&&(o="(unknown error)");var a=t>0&&n?X(o,n,t):0;r&&(te[r>>2]=a)}function zn(e,t,r){if(r)if(e>=St.counter)St.recordError(1281);else{var n=St.programInfos[e];if(n)if(35716==t){var o=Ms.getProgramInfoLog(St.programs[e]);null===o&&(o="(unknown error)"),te[r>>2]=o.length+1}else if(35719==t)te[r>>2]=n.maxUniformLength;else if(35722==t){if(-1==n.maxAttributeLength){e=St.programs[e];var a=Ms.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var i=0;i<a;++i){var s=Ms.getActiveAttrib(e,i);n.maxAttributeLength=Math.max(n.maxAttributeLength,s.name.length+1)}}te[r>>2]=n.maxAttributeLength}else if(35381==t){if(-1==n.maxUniformBlockNameLength){e=St.programs[e];var u=Ms.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(i=0;i<u;++i){var c=Ms.getActiveUniformBlockName(e,i);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}te[r>>2]=n.maxUniformBlockNameLength}else te[r>>2]=Ms.getProgramParameter(St.programs[e],t);else St.recordError(1282)}else St.recordError(1281)}function qn(e,t,r){if(r){var n=St.timerQueriesEXT[e],o=Ms.disjointTimerQueryExt.getQueryObjectEXT(n,t);Rn(r,"boolean"==typeof o?o?1:0:o)}else St.recordError(1281)}function Hn(e,t,r){if(r){var n,o=St.timerQueriesEXT[e],a=Ms.disjointTimerQueryExt.getQueryObjectEXT(o,t);n="boolean"==typeof a?a?1:0:a,te[r>>2]=n}else St.recordError(1281)}function Xn(e,t,r){if(r){var n=St.timerQueriesEXT[e],o=Ms.disjointTimerQueryExt.getQueryObjectEXT(n,t);Rn(r,"boolean"==typeof o?o?1:0:o)}else St.recordError(1281)}function Wn(e,t,r){if(r){var n,o=St.timerQueriesEXT[e],a=Ms.disjointTimerQueryExt.getQueryObjectEXT(o,t);n="boolean"==typeof a?a?1:0:a,te[r>>2]=n}else St.recordError(1281)}function Vn(e,t,r){r?te[r>>2]=Ms.disjointTimerQueryExt.getQueryEXT(e,t):St.recordError(1281)}function Yn(e,t,r){r?te[r>>2]=Ms.getRenderbufferParameter(e,t):St.recordError(1281)}function Qn(e,t,r,n){var o=Ms.getShaderInfoLog(St.shaders[e]);null===o&&(o="(unknown error)");var a=t>0&&n?X(o,n,t):0;r&&(te[r>>2]=a)}function Kn(e,t,r,n){var o=Ms.getShaderPrecisionFormat(e,t);te[r>>2]=o.rangeMin,te[r+4>>2]=o.rangeMax,te[n>>2]=o.precision}function Zn(e,t,r,n){var o=Ms.getShaderSource(St.shaders[e]);if(o){var a=t>0&&n?X(o,n,t):0;r&&(te[r>>2]=a)}}function Jn(e,t,r){if(r)if(35716==t){var n=Ms.getShaderInfoLog(St.shaders[e]);null===n&&(n="(unknown error)");var o=n?n.length+1:0;te[r>>2]=o}else if(35720==t){var a=Ms.getShaderSource(St.shaders[e]),i=a?a.length+1:0;te[r>>2]=i}else te[r>>2]=Ms.getShaderParameter(St.shaders[e],t);else St.recordError(1281)}function $n(e){var t=W(e)+1,r=Xs(t);return X(e,r,t),r}function eo(e){if(St.stringCache[e])return St.stringCache[e];var t;switch(e){case 7939:var r=Ms.getSupportedExtensions()||[];t=$n((r=r.concat(r.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=Ms.getParameter(e);n||St.recordError(1280),t=$n(n);break;case 7938:var o=Ms.getParameter(7938);t=$n(o="OpenGL ES 2.0 ("+o+")");break;case 35724:var a=Ms.getParameter(35724),i=a.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==i&&(3==i[1].length&&(i[1]=i[1]+"0"),a="OpenGL ES GLSL ES "+i[1]+" ("+a+")"),t=$n(a);break;default:return St.recordError(1280),0}return St.stringCache[e]=t,t}function to(e,t,r){r?ne[r>>2]=Ms.getTexParameter(e,t):St.recordError(1281)}function ro(e,t,r){r?te[r>>2]=Ms.getTexParameter(e,t):St.recordError(1281)}function no(e){return parseInt(e)}function oo(e,t){var r=0;if("]"==(t=q(t))[t.length-1]){var n=t.lastIndexOf("[");r="]"!=t[n+1]?no(t.slice(n+1)):0,t=t.slice(0,n)}var o=St.programInfos[e]&&St.programInfos[e].uniforms[t];return o&&r>=0&&r<o[0]?o[1]+r:-1}function ao(e,t,r,n){if(r){var o=Ms.getUniform(St.programs[e],St.uniforms[t]);if("number"==typeof o||"boolean"==typeof o)switch(n){case 0:te[r>>2]=o;break;case 2:ne[r>>2]=o}else for(var a=0;a<o.length;a++)switch(n){case 0:te[r+4*a>>2]=o[a];break;case 2:ne[r+4*a>>2]=o[a]}}else St.recordError(1281)}function io(e,t,r){ao(e,t,r,2)}function so(e,t,r){ao(e,t,r,0)}function uo(e,t,r){r?te[r>>2]=Ms.getVertexAttribOffset(e,t):St.recordError(1281)}function co(e,t,r,n){if(r){var o=Ms.getVertexAttrib(e,t);if(34975==t)te[r>>2]=o&&o.name;else if("number"==typeof o||"boolean"==typeof o)switch(n){case 0:te[r>>2]=o;break;case 2:ne[r>>2]=o;break;case 5:te[r>>2]=Math.fround(o)}else for(var a=0;a<o.length;a++)switch(n){case 0:te[r+4*a>>2]=o[a];break;case 2:ne[r+4*a>>2]=o[a];break;case 5:te[r+4*a>>2]=Math.fround(o[a])}}else St.recordError(1281)}function lo(e,t,r){co(e,t,r,2)}function fo(e,t,r){co(e,t,r,5)}function mo(e,t){Ms.hint(e,t)}function po(e){var t=St.buffers[e];return t?Ms.isBuffer(t):0}function go(e){return Ms.isEnabled(e)}function ho(e){var t=St.framebuffers[e];return t?Ms.isFramebuffer(t):0}function vo(e){return(e=St.programs[e])?Ms.isProgram(e):0}function yo(e){var t=St.timerQueriesEXT[e];return t?Ms.disjointTimerQueryExt.isQueryEXT(t):0}function _o(e){var t=St.renderbuffers[e];return t?Ms.isRenderbuffer(t):0}function wo(e){var t=St.shaders[e];return t?Ms.isShader(t):0}function Eo(e){var t=St.textures[e];return t?Ms.isTexture(t):0}function bo(e){var t=St.vaos[e];return t?Ms.isVertexArray(t):0}function ko(e){Ms.lineWidth(e)}function xo(e){Ms.linkProgram(St.programs[e]),St.populateUniformTable(e)}function So(e,t){3317==e&&(St.unpackAlignment=t),Ms.pixelStorei(e,t)}function Do(e,t){Ms.polygonOffset(e,t)}function Co(e,t){Ms.disjointTimerQueryExt.queryCounterEXT(St.timerQueriesEXT[e],t)}function Fo(e,t,r,n){var o;return t*(e*r+(o=n)-1&-o)}function Lo(e){return{5:3,6:4,8:2,29502:3,29504:4}[e-6402]||1}function Ao(e){return 1==(e-=5120)?J:4==e?te:6==e?ne:5==e||28922==e?re:ee}function Po(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function To(e,t,r,n,o,a){var i=Ao(e),s=Po(i),u=1<<s,c=Fo(r,n,Lo(t)*u,St.unpackAlignment);return i.subarray(o>>s,o+c>>s)}function Ro(e,t,r,n,o,a,i){var s=To(a,o,r,n,i);s?Ms.readPixels(e,t,r,n,o,a,s):St.recordError(1280)}function Mo(){}function Bo(e,t,r,n){Ms.renderbufferStorage(e,t,r,n)}function Oo(e,t){Ms.sampleCoverage(e,!!t)}function Io(e,t,r,n){Ms.scissor(e,t,r,n)}function jo(){St.recordError(1280)}function No(e,t,r,n){var o=St.getSource(e,t,r,n);Ms.shaderSource(St.shaders[e],o)}function Go(e,t,r){Ms.stencilFunc(e,t,r)}function Uo(e,t,r,n){Ms.stencilFuncSeparate(e,t,r,n)}function zo(e){Ms.stencilMask(e)}function qo(e,t){Ms.stencilMaskSeparate(e,t)}function Ho(e,t,r){Ms.stencilOp(e,t,r)}function Xo(e,t,r,n){Ms.stencilOpSeparate(e,t,r,n)}function Wo(e,t,r,n,o,a,i,s,u){Ms.texImage2D(e,t,r,n,o,a,i,s,u?To(s,i,n,o,u):null)}function Vo(e,t,r){Ms.texParameterf(e,t,r)}function Yo(e,t,r){var n=ne[r>>2];Ms.texParameterf(e,t,n)}function Qo(e,t,r){Ms.texParameteri(e,t,r)}function Ko(e,t,r){var n=te[r>>2];Ms.texParameteri(e,t,n)}function Zo(e,t,r,n,o,a,i,s,u){var c=null;u&&(c=To(s,i,o,a,u)),Ms.texSubImage2D(e,t,r,n,o,a,i,s,c)}function Jo(e,t){Ms.uniform1f(St.uniforms[e],t)}var $o=[];function ea(e,t,r){if(t<=288)for(var n=$o[t-1],o=0;o<t;++o)n[o]=ne[r+4*o>>2];else n=ne.subarray(r>>2,r+4*t>>2);Ms.uniform1fv(St.uniforms[e],n)}function ta(e,t){Ms.uniform1i(St.uniforms[e],t)}var ra=[];function na(e,t,r){if(t<=288)for(var n=ra[t-1],o=0;o<t;++o)n[o]=te[r+4*o>>2];else n=te.subarray(r>>2,r+4*t>>2);Ms.uniform1iv(St.uniforms[e],n)}function oa(e,t,r){Ms.uniform2f(St.uniforms[e],t,r)}function aa(e,t,r){if(t<=144)for(var n=$o[2*t-1],o=0;o<2*t;o+=2)n[o]=ne[r+4*o>>2],n[o+1]=ne[r+(4*o+4)>>2];else n=ne.subarray(r>>2,r+8*t>>2);Ms.uniform2fv(St.uniforms[e],n)}function ia(e,t,r){Ms.uniform2i(St.uniforms[e],t,r)}function sa(e,t,r){if(t<=144)for(var n=ra[2*t-1],o=0;o<2*t;o+=2)n[o]=te[r+4*o>>2],n[o+1]=te[r+(4*o+4)>>2];else n=te.subarray(r>>2,r+8*t>>2);Ms.uniform2iv(St.uniforms[e],n)}function ua(e,t,r,n){Ms.uniform3f(St.uniforms[e],t,r,n)}function ca(e,t,r){if(t<=96)for(var n=$o[3*t-1],o=0;o<3*t;o+=3)n[o]=ne[r+4*o>>2],n[o+1]=ne[r+(4*o+4)>>2],n[o+2]=ne[r+(4*o+8)>>2];else n=ne.subarray(r>>2,r+12*t>>2);Ms.uniform3fv(St.uniforms[e],n)}function la(e,t,r,n){Ms.uniform3i(St.uniforms[e],t,r,n)}function fa(e,t,r){if(t<=96)for(var n=ra[3*t-1],o=0;o<3*t;o+=3)n[o]=te[r+4*o>>2],n[o+1]=te[r+(4*o+4)>>2],n[o+2]=te[r+(4*o+8)>>2];else n=te.subarray(r>>2,r+12*t>>2);Ms.uniform3iv(St.uniforms[e],n)}function da(e,t,r,n,o){Ms.uniform4f(St.uniforms[e],t,r,n,o)}function ma(e,t,r){if(t<=72){var n=$o[4*t-1],o=ne;r>>=2;for(var a=0;a<4*t;a+=4){var i=r+a;n[a]=o[i],n[a+1]=o[i+1],n[a+2]=o[i+2],n[a+3]=o[i+3]}}else n=ne.subarray(r>>2,r+16*t>>2);Ms.uniform4fv(St.uniforms[e],n)}function pa(e,t,r,n,o){Ms.uniform4i(St.uniforms[e],t,r,n,o)}function ga(e,t,r){if(t<=72)for(var n=ra[4*t-1],o=0;o<4*t;o+=4)n[o]=te[r+4*o>>2],n[o+1]=te[r+(4*o+4)>>2],n[o+2]=te[r+(4*o+8)>>2],n[o+3]=te[r+(4*o+12)>>2];else n=te.subarray(r>>2,r+16*t>>2);Ms.uniform4iv(St.uniforms[e],n)}function ha(e,t,r,n){if(t<=72)for(var o=$o[4*t-1],a=0;a<4*t;a+=4)o[a]=ne[n+4*a>>2],o[a+1]=ne[n+(4*a+4)>>2],o[a+2]=ne[n+(4*a+8)>>2],o[a+3]=ne[n+(4*a+12)>>2];else o=ne.subarray(n>>2,n+16*t>>2);Ms.uniformMatrix2fv(St.uniforms[e],!!r,o)}function va(e,t,r,n){if(t<=32)for(var o=$o[9*t-1],a=0;a<9*t;a+=9)o[a]=ne[n+4*a>>2],o[a+1]=ne[n+(4*a+4)>>2],o[a+2]=ne[n+(4*a+8)>>2],o[a+3]=ne[n+(4*a+12)>>2],o[a+4]=ne[n+(4*a+16)>>2],o[a+5]=ne[n+(4*a+20)>>2],o[a+6]=ne[n+(4*a+24)>>2],o[a+7]=ne[n+(4*a+28)>>2],o[a+8]=ne[n+(4*a+32)>>2];else o=ne.subarray(n>>2,n+36*t>>2);Ms.uniformMatrix3fv(St.uniforms[e],!!r,o)}function ya(e,t,r,n){if(t<=18){var o=$o[16*t-1],a=ne;n>>=2;for(var i=0;i<16*t;i+=16){var s=n+i;o[i]=a[s],o[i+1]=a[s+1],o[i+2]=a[s+2],o[i+3]=a[s+3],o[i+4]=a[s+4],o[i+5]=a[s+5],o[i+6]=a[s+6],o[i+7]=a[s+7],o[i+8]=a[s+8],o[i+9]=a[s+9],o[i+10]=a[s+10],o[i+11]=a[s+11],o[i+12]=a[s+12],o[i+13]=a[s+13],o[i+14]=a[s+14],o[i+15]=a[s+15]}}else o=ne.subarray(n>>2,n+64*t>>2);Ms.uniformMatrix4fv(St.uniforms[e],!!r,o)}function _a(e){Ms.useProgram(St.programs[e])}function wa(e){Ms.validateProgram(St.programs[e])}function Ea(e,t){Ms.vertexAttrib1f(e,t)}function ba(e,t){Ms.vertexAttrib1f(e,ne[t>>2])}function ka(e,t,r){Ms.vertexAttrib2f(e,t,r)}function xa(e,t){Ms.vertexAttrib2f(e,ne[t>>2],ne[t+4>>2])}function Sa(e,t,r,n){Ms.vertexAttrib3f(e,t,r,n)}function Da(e,t){Ms.vertexAttrib3f(e,ne[t>>2],ne[t+4>>2],ne[t+8>>2])}function Ca(e,t,r,n,o){Ms.vertexAttrib4f(e,t,r,n,o)}function Fa(e,t){Ms.vertexAttrib4f(e,ne[t>>2],ne[t+4>>2],ne[t+8>>2],ne[t+12>>2])}function La(e,t){Ms.vertexAttribDivisor(e,t)}function Aa(e,t,r,n,o,a){Ms.vertexAttribPointer(e,t,r,!!n,o,a)}function Pa(e,t,r,n){Ms.viewport(e,t,r,n)}function Ta(){return 0}function Ra(e,t){throw Zs(e,t||1),"longjmp"}function Ma(e,t){return Ra(e,t)}function Ba(e,t){return Ra(e,t)}function Oa(e,t,r){J.copyWithin(e,t,t+r)}function Ia(e,t){return Ht.fullscreenEnabled()?(e=Yt(e))?e.requestFullscreen||e.webkitRequestFullscreen?Ht.canPerformEventHandlerRequests()?or(e,t):t.deferUntilInEventHandler?(Ht.deferCall(or,1,[e,t]),1):-2:-3:-4:-1}function ja(e,t,r){return Ia(e,{scaleMode:te[r>>2],canvasResolutionScaleMode:te[r+4>>2],filteringMode:te[r+8>>2],deferUntilInEventHandler:t,canvasResizedCallback:te[r+12>>2],canvasResizedCallbackUserData:te[r+16>>2]})}function Na(e,t){return(e=Yt(e))?e.requestPointerLock||e.msRequestPointerLock?Ht.canPerformEventHandlerRequests()?ir(e):t?(Ht.deferCall(ir,2,[e]),1):-2:-1:-4}function Ga(e){Se("OOM")}function Ua(e){Ga()}function za(){return(Ht.lastGamepadState=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null)?0:-1}function qa(e,t,r,n,o,a){var i={target:Yt(e),eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var r=e||event,a=M.get(n)(o,0,t);if(a&&(a=q(a)),a)return r.preventDefault(),r.returnValue=a,a},useCapture:r};Ht.registerOrRemoveHandler(i)}function Ha(e,t,r){return"undefined"===typeof onbeforeunload?-1:1!==r?-5:(qa(2,e,!0,t,28,"beforeunload"),0)}function Xa(e,t,r,n,o,a,i){Ht.focusEvent||(Ht.focusEvent=Xs(256));var s={target:Yt(e),eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var r=e||event,a=Ht.getNodeNameForTarget(r.target),i=r.target.id?r.target.id:"",s=Ht.focusEvent;X(a,s+0,128),X(i,s+128,128),M.get(n)(o,s,t)&&r.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function Wa(e,t,r,n,o){return Xa(e,t,r,n,12,"blur"),0}function Va(e,t,r){return(e=Yt(e))?(e.style.width=t+"px",e.style.height=r+"px",0):-4}function Ya(e,t,r,n,o){return Xa(e,t,r,n,13,"focus"),0}function Qa(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,r=!!t;te[e>>2]=r,te[e+4>>2]=Ht.fullscreenEnabled();var n=r?t:Ht.previousFullscreenElement,o=Ht.getNodeNameForTarget(n),a=n&&n.id?n.id:"";X(o,e+8,128),X(a,e+136,128),te[e+264>>2]=n?n.clientWidth:0,te[e+268>>2]=n?n.clientHeight:0,te[e+272>>2]=screen.width,te[e+276>>2]=screen.height,r&&(Ht.previousFullscreenElement=t)}function Ka(e,t,r,n,o,a,i){Ht.fullscreenChangeEvent||(Ht.fullscreenChangeEvent=Xs(280));var s={target:e,eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var r=e||event,a=Ht.fullscreenChangeEvent;Qa(a),M.get(n)(o,a,t)&&r.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function Za(e,t,r,n,o){return Ht.fullscreenEnabled()?(e=Yt(e))?(Ka(e,t,r,n,19,"fullscreenchange"),Ka(e,t,r,n,19,"webkitfullscreenchange"),0):-4:-1}function Ja(e,t,r,n,o,a,i){Ht.gamepadEvent||(Ht.gamepadEvent=Xs(1432));var s={target:Yt(e),allowsDeferredCalls:!0,eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var r=e||event,a=Ht.gamepadEvent;lr(a,r.gamepad),M.get(n)(o,a,t)&&r.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function $a(e,t,r,n){return navigator.getGamepads||navigator.webkitGetGamepads?(Ja(2,e,t,r,26,"gamepadconnected"),0):-1}function ei(e,t,r,n){return navigator.getGamepads||navigator.webkitGetGamepads?(Ja(2,e,t,r,27,"gamepaddisconnected"),0):-1}function ti(e,t,r,n,o,a,i){Ht.keyEvent||(Ht.keyEvent=Xs(164));var s={target:Yt(e),allowsDeferredCalls:!0,eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var r=Ht.keyEvent,a=r>>2;te[a+0]=e.location,te[a+1]=e.ctrlKey,te[a+2]=e.shiftKey,te[a+3]=e.altKey,te[a+4]=e.metaKey,te[a+5]=e.repeat,te[a+6]=e.charCode,te[a+7]=e.keyCode,te[a+8]=e.which,X(e.key||"",r+36,32),X(e.code||"",r+68,32),X(e.char||"",r+100,32),X(e.locale||"",r+132,32),M.get(n)(o,r,t)&&e.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function ri(e,t,r,n,o){return ti(e,t,r,n,2,"keydown"),0}function ni(e,t,r,n,o){return ti(e,t,r,n,1,"keypress"),0}function oi(e,t,r,n,o){return ti(e,t,r,n,3,"keyup"),0}function ai(e,t,r,n,o){Ge((function(){M.get(e)()}),t,r,n,o)}function ii(e,t,r){var n=e>>2;te[n+0]=t.screenX,te[n+1]=t.screenY,te[n+2]=t.clientX,te[n+3]=t.clientY,te[n+4]=t.ctrlKey,te[n+5]=t.shiftKey,te[n+6]=t.altKey,te[n+7]=t.metaKey,$[2*n+16]=t.button,$[2*n+17]=t.buttons,te[n+9]=t.movementX,te[n+10]=t.movementY;var o=rr(r);te[n+11]=t.clientX-o.left,te[n+12]=t.clientY-o.top}function si(e,t,r,n,o,a,i){Ht.mouseEvent||(Ht.mouseEvent=Xs(64));var s={target:e=Yt(e),allowsDeferredCalls:"mousemove"!=a&&"mouseenter"!=a&&"mouseleave"!=a,eventTypeString:a,callbackfunc:n,handlerFunc:function(r){var a=r||event;ii(Ht.mouseEvent,a,e),M.get(n)(o,Ht.mouseEvent,t)&&a.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function ui(e,t,r,n,o){return si(e,t,r,n,5,"mousedown"),0}function ci(e,t,r,n,o){return si(e,t,r,n,33,"mouseenter"),0}function li(e,t,r,n,o){return si(e,t,r,n,34,"mouseleave"),0}function fi(e,t,r,n,o){return si(e,t,r,n,8,"mousemove"),0}function di(e,t,r,n,o){return si(e,t,r,n,6,"mouseup"),0}function mi(e){var t=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,r=!!t;te[e>>2]=r;var n=Ht.getNodeNameForTarget(t),o=t&&t.id?t.id:"";X(n,e+4,128),X(o,e+132,128)}function pi(e,t,r,n,o,a,i){Ht.pointerlockChangeEvent||(Ht.pointerlockChangeEvent=Xs(260));var s={target:e,eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var r=e||event,a=Ht.pointerlockChangeEvent;mi(a),M.get(n)(o,a,t)&&r.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function gi(e,t,r,n,o){return document&&document.body&&(document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock)?(e=Yt(e))?(pi(e,t,r,n,20,"pointerlockchange"),pi(e,t,r,n,20,"mozpointerlockchange"),pi(e,t,r,n,20,"webkitpointerlockchange"),pi(e,t,r,n,20,"mspointerlockchange"),0):-4:-1}function hi(e,t,r,n,o,a,i){Ht.uiEvent||(Ht.uiEvent=Xs(36));var s={target:e=Yt(e),eventTypeString:a,callbackfunc:n,handlerFunc:function(r){var a=r||event;if(a.target==e){var i=Ht.uiEvent,s=document.body;te[i>>2]=a.detail,te[i+4>>2]=s.clientWidth,te[i+8>>2]=s.clientHeight,te[i+12>>2]=innerWidth,te[i+16>>2]=innerHeight,te[i+20>>2]=outerWidth,te[i+24>>2]=outerHeight,te[i+28>>2]=pageXOffset,te[i+32>>2]=pageYOffset,M.get(n)(o,i,t)&&a.preventDefault()}},useCapture:r};Ht.registerOrRemoveHandler(s)}function vi(e,t,r,n,o){return hi(e,t,r,n,10,"resize"),0}function yi(e,t,r,n,o,a,i){Ht.touchEvent||(Ht.touchEvent=Xs(1684));var s={target:e=Yt(e),allowsDeferredCalls:"touchstart"==a||"touchend"==a,eventTypeString:a,callbackfunc:n,handlerFunc:function(r){for(var a={},i=r.touches,s=0;s<i.length;++s){a[(u=i[s]).identifier]=u}i=r.changedTouches;for(s=0;s<i.length;++s){var u;(u=i[s]).isChanged=1,a[u.identifier]=u}i=r.targetTouches;for(s=0;s<i.length;++s)a[i[s].identifier].onTarget=1;var c=Ht.touchEvent,l=c>>2;te[l+1]=r.ctrlKey,te[l+2]=r.shiftKey,te[l+3]=r.altKey,te[l+4]=r.metaKey,l+=5;var f=rr(e),d=0;for(var s in a){var m=a[s];if(te[l+0]=m.identifier,te[l+1]=m.screenX,te[l+2]=m.screenY,te[l+3]=m.clientX,te[l+4]=m.clientY,te[l+5]=m.pageX,te[l+6]=m.pageY,te[l+7]=m.isChanged,te[l+8]=m.onTarget,te[l+9]=m.clientX-f.left,te[l+10]=m.clientY-f.top,l+=13,++d>31)break}te[c>>2]=d,M.get(n)(o,c,t)&&r.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function _i(e,t,r,n,o){return yi(e,t,r,n,25,"touchcancel"),0}function wi(e,t,r,n,o){return yi(e,t,r,n,23,"touchend"),0}function Ei(e,t,r,n,o){return yi(e,t,r,n,24,"touchmove"),0}function bi(e,t,r,n,o){return yi(e,t,r,n,22,"touchstart"),0}function ki(e){var t=["hidden","visible","prerender","unloaded"].indexOf(document.visibilityState);te[e>>2]=document.hidden,te[e+4>>2]=t}function xi(e,t,r,n,o,a,i){Ht.visibilityChangeEvent||(Ht.visibilityChangeEvent=Xs(8));var s={target:e,eventTypeString:a,callbackfunc:n,handlerFunc:function(e){var r=e||event,a=Ht.visibilityChangeEvent;ki(a),M.get(n)(o,a,t)&&r.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function Si(e,t,r,n){return Vt[1]?(xi(Vt[1],e,t,r,21,"visibilitychange"),0):-4}function Di(e,t,r,n,o,a,i){Ht.wheelEvent||(Ht.wheelEvent=Xs(96));var s={target:e,allowsDeferredCalls:!0,eventTypeString:a,callbackfunc:n,handlerFunc:function(r){var a=r||event,i=Ht.wheelEvent;ii(i,a,e),oe[i+64>>3]=a.deltaX,oe[i+72>>3]=a.deltaY,oe[i+80>>3]=a.deltaZ,te[i+88>>2]=a.deltaMode,M.get(n)(o,i,t)&&a.preventDefault()},useCapture:r};Ht.registerOrRemoveHandler(s)}function Ci(e,t,r,n,o){return"undefined"!==typeof(e=Yt(e)).onwheel?(Di(e,t,r,n,9,"wheel"),0):-1}function Fi(){throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"}var Li={};function Ai(){return m||"./this.program"}function Pi(){if(!Pi.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ai()};for(var t in Li)e[t]=Li[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Pi.strings=r}return Pi.strings}function Ti(e,t){var r=0;return Pi().forEach((function(n,o){var a=t+r;te[e+4*o>>2]=a,Q(n,a),r+=n.length+1})),0}function Ri(e,t){var r=Pi();te[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),te[t>>2]=n,0}function Mi(e){try{var t=lt.getStreamFromFD(e);return ct.close(t),0}catch(r){return"undefined"!==typeof ct&&r instanceof ct.ErrnoError||Se(r),r.errno}}function Bi(e,t,r,n){try{var o=lt.getStreamFromFD(e),a=lt.doReadv(o,t,r);return te[n>>2]=a,0}catch(i){return"undefined"!==typeof ct&&i instanceof ct.ErrnoError||Se(i),i.errno}}function Oi(e,t,r,n,o){try{var a=lt.getStreamFromFD(e),i=4294967296*r+(t>>>0);return i<=-9007199254740992||i>=9007199254740992?-61:(ct.llseek(a,i,n),Te=[a.position>>>0,(Pe=a.position,+Math.abs(Pe)>=1?Pe>0?(0|Math.min(+Math.floor(Pe/4294967296),4294967295))>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],te[o>>2]=Te[0],te[o+4>>2]=Te[1],a.getdents&&0===i&&0===n&&(a.getdents=null),0)}catch(s){return"undefined"!==typeof ct&&s instanceof ct.ErrnoError||Se(s),s.errno}}function Ii(e,t,r,n){try{var o=lt.getStreamFromFD(e),a=lt.doWritev(o,t,r);return te[n>>2]=a,0}catch(i){return"undefined"!==typeof ct&&i instanceof ct.ErrnoError||Se(i),i.errno}}function ji(){return 0|I()}function Ni(e){var t=Date.now();return te[e>>2]=t/1e3|0,te[e+4>>2]=t%1e3*1e3|0,0}function Gi(e){Ms.activeTexture(e)}function Ui(e,t){Ms.attachShader(St.programs[e],St.shaders[t])}function zi(e,t){Ms.bindBuffer(e,St.buffers[t])}function qi(e,t){Ms.bindTexture(e,St.textures[t])}function Hi(e){Ms.bindVertexArray(St.vaos[e])}function Xi(e,t){Ms.blendFunc(e,t)}function Wi(e,t,r,n){Ms.bufferData(e,r?J.subarray(r,r+t):t,n)}function Vi(e){Ms.clear(e)}function Yi(e,t,r,n){Ms.clearColor(e,t,r,n)}function Qi(e){Ms.compileShader(St.shaders[e])}function Ki(){var e=St.getNewId(St.programs),t=Ms.createProgram();return t.name=e,St.programs[e]=t,e}function Zi(e){var t=St.getNewId(St.shaders);return St.shaders[t]=Ms.createShader(e),t}function Ji(e){if(e){var t=St.shaders[e];t?(Ms.deleteShader(t),St.shaders[e]=null):St.recordError(1281)}}function $i(e,t,r){Ms.drawArrays(e,t,r)}function es(e){Ms.enable(e)}function ts(e){Ms.enableVertexAttribArray(e)}function rs(e,t){wn(e,t,"createBuffer",St.buffers)}function ns(e,t){wn(e,t,"createTexture",St.textures)}function os(e,t){wn(e,t,"createVertexArray",St.vaos)}function as(e,t,r,n){var o=Ms.getProgramInfoLog(St.programs[e]);null===o&&(o="(unknown error)");var a=t>0&&n?X(o,n,t):0;r&&(te[r>>2]=a)}function is(e,t,r){if(r)if(e>=St.counter)St.recordError(1281);else{var n=St.programInfos[e];if(n)if(35716==t){var o=Ms.getProgramInfoLog(St.programs[e]);null===o&&(o="(unknown error)"),te[r>>2]=o.length+1}else if(35719==t)te[r>>2]=n.maxUniformLength;else if(35722==t){if(-1==n.maxAttributeLength){e=St.programs[e];var a=Ms.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var i=0;i<a;++i){var s=Ms.getActiveAttrib(e,i);n.maxAttributeLength=Math.max(n.maxAttributeLength,s.name.length+1)}}te[r>>2]=n.maxAttributeLength}else if(35381==t){if(-1==n.maxUniformBlockNameLength){e=St.programs[e];var u=Ms.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(i=0;i<u;++i){var c=Ms.getActiveUniformBlockName(e,i);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}te[r>>2]=n.maxUniformBlockNameLength}else te[r>>2]=Ms.getProgramParameter(St.programs[e],t);else St.recordError(1282)}else St.recordError(1281)}function ss(e,t,r,n){var o=Ms.getShaderInfoLog(St.shaders[e]);null===o&&(o="(unknown error)");var a=t>0&&n?X(o,n,t):0;r&&(te[r>>2]=a)}function us(e,t,r){if(r)if(35716==t){var n=Ms.getShaderInfoLog(St.shaders[e]);null===n&&(n="(unknown error)");var o=n?n.length+1:0;te[r>>2]=o}else if(35720==t){var a=Ms.getShaderSource(St.shaders[e]),i=a?a.length+1:0;te[r>>2]=i}else te[r>>2]=Ms.getShaderParameter(St.shaders[e],t);else St.recordError(1281)}function cs(e,t){var r=0;if("]"==(t=q(t))[t.length-1]){var n=t.lastIndexOf("[");r="]"!=t[n+1]?no(t.slice(n+1)):0,t=t.slice(0,n)}var o=St.programInfos[e]&&St.programInfos[e].uniforms[t];return o&&r>=0&&r<o[0]?o[1]+r:-1}function ls(e){Ms.linkProgram(St.programs[e]),St.populateUniformTable(e)}function fs(e,t,r,n){var o=St.getSource(e,t,r,n);Ms.shaderSource(St.shaders[e],o)}function ds(e,t,r,n,o,a,i,s,u){Ms.texImage2D(e,t,r,n,o,a,i,s,u?To(s,i,n,o,u):null)}function ms(e,t,r){Ms.texParameteri(e,t,r)}function ps(e,t){Ms.uniform1f(St.uniforms[e],t)}function gs(e,t){Ms.uniform1i(St.uniforms[e],t)}function hs(e,t,r){if(t<=96)for(var n=$o[3*t-1],o=0;o<3*t;o+=3)n[o]=ne[r+4*o>>2],n[o+1]=ne[r+(4*o+4)>>2],n[o+2]=ne[r+(4*o+8)>>2];else n=ne.subarray(r>>2,r+12*t>>2);Ms.uniform3fv(St.uniforms[e],n)}function vs(e,t,r,n){if(t<=18){var o=$o[16*t-1],a=ne;n>>=2;for(var i=0;i<16*t;i+=16){var s=n+i;o[i]=a[s],o[i+1]=a[s+1],o[i+2]=a[s+2],o[i+3]=a[s+3],o[i+4]=a[s+4],o[i+5]=a[s+5],o[i+6]=a[s+6],o[i+7]=a[s+7],o[i+8]=a[s+8],o[i+9]=a[s+9],o[i+10]=a[s+10],o[i+11]=a[s+11],o[i+12]=a[s+12],o[i+13]=a[s+13],o[i+14]=a[s+14],o[i+15]=a[s+15]}}else o=ne.subarray(n>>2,n+64*t>>2);Ms.uniformMatrix4fv(St.uniforms[e],!!r,o)}function ys(e){Ms.useProgram(St.programs[e])}function _s(e,t,r,n,o,a){Ms.vertexAttribPointer(e,t,r,!!n,o,a)}function ws(e){for(var t=Ie();Ie()-t<e/1e3;);}function Es(e,t){if(0===e)return rt(28),-1;var r=te[e>>2],n=te[e+4>>2];return n<0||n>999999999||r<0?(rt(28),-1):(0!==t&&(te[t>>2]=0,te[t+4>>2]=0),ws(1e6*r+n/1e3))}function bs(e){O(0|e)}function ks(e,t,r){return 0}function xs(e,t){return 14==e&&t,0}function Ss(e){return e%4===0&&(e%100!==0||e%400===0)}function Ds(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var Cs=[31,29,31,30,31,30,31,31,30,31,30,31],Fs=[31,28,31,30,31,30,31,31,30,31,30,31];function Ls(e,t){for(var r=new Date(e.getTime());t>0;){var n=Ss(r.getFullYear()),o=r.getMonth(),a=(n?Cs:Fs)[o];if(!(t>a-r.getDate()))return r.setDate(r.getDate()+t),r;t-=a-r.getDate()+1,r.setDate(1),o<11?r.setMonth(o+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}function As(e,t,r,n){var o=te[n+40>>2],a={tm_sec:te[n>>2],tm_min:te[n+4>>2],tm_hour:te[n+8>>2],tm_mday:te[n+12>>2],tm_mon:te[n+16>>2],tm_year:te[n+20>>2],tm_wday:te[n+24>>2],tm_yday:te[n+28>>2],tm_isdst:te[n+32>>2],tm_gmtoff:te[n+36>>2],tm_zone:o?q(o):""},i=q(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)i=i.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,r){for(var n="number"===typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function d(e,t){return f(e,t,"0")}function m(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function g(e){var t=Ls(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),o=p(r),a=p(n);return m(o,t)<=0?m(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var h={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return d((e.tm_year+1900)/100|0,2)},"%d":function(e){return d(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return g(e).toString().substring(2)},"%G":function(e){return g(e)},"%H":function(e){return d(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),d(t,2)},"%j":function(e){return d(e.tm_mday+Ds(Ss(e.tm_year+1900)?Cs:Fs,e.tm_mon-1),3)},"%m":function(e){return d(e.tm_mon+1,2)},"%M":function(e){return d(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return d(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:Ls(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(m(r,n)<0){var o=Ds(Ss(n.getFullYear())?Cs:Fs,n.getMonth()-1)-31,a=31-r.getDate()+o+n.getDate();return d(Math.ceil(a/7),2)}return 0===m(r,t)?"01":"00"},"%V":function(e){var t,r=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),o=p(r),a=p(n),i=Ls(new Date(e.tm_year+1900,0,1),e.tm_yday);return m(i,o)<0?"53":m(a,i)<=0?"01":(t=o.getFullYear()<e.tm_year+1900?e.tm_yday+32-o.getDate():e.tm_yday+1-o.getDate(),d(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:Ls(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(m(r,n)<0){var o=Ds(Ss(n.getFullYear())?Cs:Fs,n.getMonth()-1)-31,a=31-r.getDate()+o+n.getDate();return d(Math.ceil(a/7),2)}return 0===m(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in h)i.indexOf(u)>=0&&(i=i.replace(new RegExp(u,"g"),h[u](a)));var v=Us(i,!1);return v.length>t?0:(Y(v,e),v.length-1)}function Ps(e,t,r,n){return As(e,t,r,n)}var Ts=[];function Rs(e,t){var r;for(Ts.length=0,t>>=2;r=J[e++];){var n=r<105;n&&1&t&&t++,Ts.push(n?oe[t++>>1]:te[t]),++t}return Ts}c.requestFullscreen=function(e,t){Ue.requestFullscreen(e,t)},c.requestAnimationFrame=function(e){Ue.requestAnimationFrame(e)},c.setCanvasSize=function(e,t,r){Ue.setCanvasSize(e,t,r)},c.pauseMainLoop=function(){Ue.mainLoop.pause()},c.resumeMainLoop=function(){Ue.mainLoop.resume()},c.getUserMedia=function(){Ue.getUserMedia()},c.createContext=function(e,t,r,n){return Ue.createContext(e,t,r,n)};var Ms,Bs=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ct.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},Os=365,Is=146;Object.defineProperties(Bs.prototype,{read:{get:function(){return(this.mode&Os)===Os},set:function(e){e?this.mode|=Os:this.mode&=~Os}},write:{get:function(){return(this.mode&Is)===Is},set:function(e){e?this.mode|=Is:this.mode&=~Is}},isFolder:{get:function(){return ct.isDir(this.mode)}},isDevice:{get:function(){return ct.isChrdev(this.mode)}}}),ct.FSNode=Bs,ct.staticInit(),c.FS_createPath=ct.createPath,c.FS_createDataFile=ct.createDataFile,c.FS_createPreloadedFile=ct.createPreloadedFile,c.FS_createLazyFile=ct.createLazyFile,c.FS_createDevice=ct.createDevice,c.FS_unlink=ct.unlink;for(var js=0;js<32;++js)un.push(new Array(js));var Ns=new Float32Array(288);for(js=0;js<288;++js)$o[js]=Ns.subarray(0,js+1);var Gs=new Int32Array(288);for(js=0;js<288;++js)ra[js]=Gs.subarray(0,js+1);function Us(e,t,r){var n=r>0?r:W(e)+1,o=new Array(n),a=H(e,o,0,o.length);return t&&(o.length=a),o}ce.push({func:function(){Hs()}});var zs,qs={__cxa_allocate_exception:Ze,__cxa_atexit:Je,__cxa_throw:tt,__sys_fcntl64:ft,__sys_ioctl:dt,__sys_open:mt,abort:pt,clock_gettime:ht,dlclose:vt,eglBindAPI:_t,eglChooseConfig:wt,eglCreateContext:Dt,eglCreateWindowSurface:Ct,eglDestroyContext:Ft,eglDestroySurface:Lt,eglGetConfigAttrib:At,eglGetDisplay:Pt,eglGetError:Tt,eglGetProcAddress:Rt,eglInitialize:Mt,eglMakeCurrent:Bt,eglQueryString:Ot,eglSwapBuffers:It,eglSwapInterval:jt,eglTerminate:Nt,eglWaitGL:Ut,eglWaitNative:zt,emscripten_asm_const_int:qt,emscripten_exit_fullscreen:ar,emscripten_exit_pointerlock:sr,emscripten_get_device_pixel_ratio:ur,emscripten_get_element_css_size:cr,emscripten_get_gamepad_status:fr,emscripten_get_num_gamepads:dr,emscripten_get_preloaded_image_data:mr,emscripten_get_preloaded_image_data_from_FILE:pr,emscripten_glActiveTexture:gr,emscripten_glAttachShader:hr,emscripten_glBeginQueryEXT:vr,emscripten_glBindAttribLocation:yr,emscripten_glBindBuffer:_r,emscripten_glBindFramebuffer:wr,emscripten_glBindRenderbuffer:Er,emscripten_glBindTexture:br,emscripten_glBindVertexArrayOES:kr,emscripten_glBlendColor:xr,emscripten_glBlendEquation:Sr,emscripten_glBlendEquationSeparate:Dr,emscripten_glBlendFunc:Cr,emscripten_glBlendFuncSeparate:Fr,emscripten_glBufferData:Lr,emscripten_glBufferSubData:Ar,emscripten_glCheckFramebufferStatus:Pr,emscripten_glClear:Tr,emscripten_glClearColor:Rr,emscripten_glClearDepthf:Mr,emscripten_glClearStencil:Br,emscripten_glColorMask:Or,emscripten_glCompileShader:Ir,emscripten_glCompressedTexImage2D:jr,emscripten_glCompressedTexSubImage2D:Nr,emscripten_glCopyTexImage2D:Gr,emscripten_glCopyTexSubImage2D:Ur,emscripten_glCreateProgram:zr,emscripten_glCreateShader:qr,emscripten_glCullFace:Hr,emscripten_glDeleteBuffers:Xr,emscripten_glDeleteFramebuffers:Wr,emscripten_glDeleteProgram:Vr,emscripten_glDeleteQueriesEXT:Yr,emscripten_glDeleteRenderbuffers:Qr,emscripten_glDeleteShader:Kr,emscripten_glDeleteTextures:Zr,emscripten_glDeleteVertexArraysOES:Jr,emscripten_glDepthFunc:$r,emscripten_glDepthMask:en,emscripten_glDepthRangef:tn,emscripten_glDetachShader:rn,emscripten_glDisable:nn,emscripten_glDisableVertexAttribArray:on,emscripten_glDrawArrays:an,emscripten_glDrawArraysInstancedANGLE:sn,emscripten_glDrawBuffersWEBGL:cn,emscripten_glDrawElements:ln,emscripten_glDrawElementsInstancedANGLE:fn,emscripten_glEnable:dn,emscripten_glEnableVertexAttribArray:mn,emscripten_glEndQueryEXT:pn,emscripten_glFinish:gn,emscripten_glFlush:hn,emscripten_glFramebufferRenderbuffer:vn,emscripten_glFramebufferTexture2D:yn,emscripten_glFrontFace:_n,emscripten_glGenBuffers:En,emscripten_glGenFramebuffers:bn,emscripten_glGenQueriesEXT:kn,emscripten_glGenRenderbuffers:xn,emscripten_glGenTextures:Sn,emscripten_glGenVertexArraysOES:Dn,emscripten_glGenerateMipmap:Cn,emscripten_glGetActiveAttrib:Ln,emscripten_glGetActiveUniform:An,emscripten_glGetAttachedShaders:Pn,emscripten_glGetAttribLocation:Tn,emscripten_glGetBooleanv:Bn,emscripten_glGetBufferParameteriv:On,emscripten_glGetError:In,emscripten_glGetFloatv:jn,emscripten_glGetFramebufferAttachmentParameteriv:Nn,emscripten_glGetIntegerv:Gn,emscripten_glGetProgramInfoLog:Un,emscripten_glGetProgramiv:zn,emscripten_glGetQueryObjecti64vEXT:qn,emscripten_glGetQueryObjectivEXT:Hn,emscripten_glGetQueryObjectui64vEXT:Xn,emscripten_glGetQueryObjectuivEXT:Wn,emscripten_glGetQueryivEXT:Vn,emscripten_glGetRenderbufferParameteriv:Yn,emscripten_glGetShaderInfoLog:Qn,emscripten_glGetShaderPrecisionFormat:Kn,emscripten_glGetShaderSource:Zn,emscripten_glGetShaderiv:Jn,emscripten_glGetString:eo,emscripten_glGetTexParameterfv:to,emscripten_glGetTexParameteriv:ro,emscripten_glGetUniformLocation:oo,emscripten_glGetUniformfv:io,emscripten_glGetUniformiv:so,emscripten_glGetVertexAttribPointerv:uo,emscripten_glGetVertexAttribfv:lo,emscripten_glGetVertexAttribiv:fo,emscripten_glHint:mo,emscripten_glIsBuffer:po,emscripten_glIsEnabled:go,emscripten_glIsFramebuffer:ho,emscripten_glIsProgram:vo,emscripten_glIsQueryEXT:yo,emscripten_glIsRenderbuffer:_o,emscripten_glIsShader:wo,emscripten_glIsTexture:Eo,emscripten_glIsVertexArrayOES:bo,emscripten_glLineWidth:ko,emscripten_glLinkProgram:xo,emscripten_glPixelStorei:So,emscripten_glPolygonOffset:Do,emscripten_glQueryCounterEXT:Co,emscripten_glReadPixels:Ro,emscripten_glReleaseShaderCompiler:Mo,emscripten_glRenderbufferStorage:Bo,emscripten_glSampleCoverage:Oo,emscripten_glScissor:Io,emscripten_glShaderBinary:jo,emscripten_glShaderSource:No,emscripten_glStencilFunc:Go,emscripten_glStencilFuncSeparate:Uo,emscripten_glStencilMask:zo,emscripten_glStencilMaskSeparate:qo,emscripten_glStencilOp:Ho,emscripten_glStencilOpSeparate:Xo,emscripten_glTexImage2D:Wo,emscripten_glTexParameterf:Vo,emscripten_glTexParameterfv:Yo,emscripten_glTexParameteri:Qo,emscripten_glTexParameteriv:Ko,emscripten_glTexSubImage2D:Zo,emscripten_glUniform1f:Jo,emscripten_glUniform1fv:ea,emscripten_glUniform1i:ta,emscripten_glUniform1iv:na,emscripten_glUniform2f:oa,emscripten_glUniform2fv:aa,emscripten_glUniform2i:ia,emscripten_glUniform2iv:sa,emscripten_glUniform3f:ua,emscripten_glUniform3fv:ca,emscripten_glUniform3i:la,emscripten_glUniform3iv:fa,emscripten_glUniform4f:da,emscripten_glUniform4fv:ma,emscripten_glUniform4i:pa,emscripten_glUniform4iv:ga,emscripten_glUniformMatrix2fv:ha,emscripten_glUniformMatrix3fv:va,emscripten_glUniformMatrix4fv:ya,emscripten_glUseProgram:_a,emscripten_glValidateProgram:wa,emscripten_glVertexAttrib1f:Ea,emscripten_glVertexAttrib1fv:ba,emscripten_glVertexAttrib2f:ka,emscripten_glVertexAttrib2fv:xa,emscripten_glVertexAttrib3f:Sa,emscripten_glVertexAttrib3fv:Da,emscripten_glVertexAttrib4f:Ca,emscripten_glVertexAttrib4fv:Fa,emscripten_glVertexAttribDivisorANGLE:La,emscripten_glVertexAttribPointer:Aa,emscripten_glViewport:Pa,emscripten_has_asyncify:Ta,emscripten_longjmp:Ma,emscripten_longjmp_jmpbuf:Ba,emscripten_memcpy_big:Oa,emscripten_request_fullscreen_strategy:ja,emscripten_request_pointerlock:Na,emscripten_resize_heap:Ua,emscripten_sample_gamepad_data:za,emscripten_set_beforeunload_callback_on_thread:Ha,emscripten_set_blur_callback_on_thread:Wa,emscripten_set_canvas_element_size:Jt,emscripten_set_element_css_size:Va,emscripten_set_focus_callback_on_thread:Ya,emscripten_set_fullscreenchange_callback_on_thread:Za,emscripten_set_gamepadconnected_callback_on_thread:$a,emscripten_set_gamepaddisconnected_callback_on_thread:ei,emscripten_set_keydown_callback_on_thread:ri,emscripten_set_keypress_callback_on_thread:ni,emscripten_set_keyup_callback_on_thread:oi,emscripten_set_main_loop:ai,emscripten_set_mousedown_callback_on_thread:ui,emscripten_set_mouseenter_callback_on_thread:ci,emscripten_set_mouseleave_callback_on_thread:li,emscripten_set_mousemove_callback_on_thread:fi,emscripten_set_mouseup_callback_on_thread:di,emscripten_set_pointerlockchange_callback_on_thread:gi,emscripten_set_resize_callback_on_thread:vi,emscripten_set_touchcancel_callback_on_thread:_i,emscripten_set_touchend_callback_on_thread:wi,emscripten_set_touchmove_callback_on_thread:Ei,emscripten_set_touchstart_callback_on_thread:bi,emscripten_set_visibilitychange_callback_on_thread:Si,emscripten_set_wheel_callback_on_thread:Ci,emscripten_sleep:Fi,environ_get:Ti,environ_sizes_get:Ri,fd_close:Mi,fd_read:Bi,fd_seek:Oi,fd_write:Ii,getTempRet0:ji,gettimeofday:Ni,glActiveTexture:Gi,glAttachShader:Ui,glBindBuffer:zi,glBindTexture:qi,glBindVertexArray:Hi,glBlendFunc:Xi,glBufferData:Wi,glClear:Vi,glClearColor:Yi,glCompileShader:Qi,glCreateProgram:Ki,glCreateShader:Zi,glDeleteShader:Ji,glDrawArrays:$i,glEnable:es,glEnableVertexAttribArray:ts,glGenBuffers:rs,glGenTextures:ns,glGenVertexArrays:os,glGetProgramInfoLog:as,glGetProgramiv:is,glGetShaderInfoLog:ss,glGetShaderiv:us,glGetUniformLocation:cs,glLinkProgram:ls,glShaderSource:fs,glTexImage2D:ds,glTexParameteri:ms,glUniform1f:ps,glUniform1i:gs,glUniform3fv:hs,glUniformMatrix4fv:vs,glUseProgram:ys,glVertexAttribPointer:_s,invoke_i:lu,invoke_ii:eu,invoke_iii:iu,invoke_iiii:ru,invoke_iiiii:tu,invoke_iiiiii:uu,invoke_iiiiiiiii:cu,invoke_iiiiiiiiii:su,invoke_ji:du,invoke_jiji:mu,invoke_vi:nu,invoke_vii:au,invoke_viii:ou,invoke_viiii:fu,memory:R,nanosleep:Es,setTempRet0:bs,sigaction:ks,signal:xs,strftime_l:Ps},Hs=(Oe(),c.___wasm_call_ctors=function(){return(Hs=c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)}),Xs=(c._main=function(){return(c._main=c.asm.main).apply(null,arguments)},c._free=function(){return(c._free=c.asm.free).apply(null,arguments)},c._malloc=function(){return(Xs=c._malloc=c.asm.malloc).apply(null,arguments)}),Ws=(c._testSetjmp=function(){return(c._testSetjmp=c.asm.testSetjmp).apply(null,arguments)},c._saveSetjmp=function(){return(c._saveSetjmp=c.asm.saveSetjmp).apply(null,arguments)},c._realloc=function(){return(c._realloc=c.asm.realloc).apply(null,arguments)},c._strstr=function(){return(c._strstr=c.asm.strstr).apply(null,arguments)},c.___errno_location=function(){return(Ws=c.___errno_location=c.asm.__errno_location).apply(null,arguments)}),Vs=c._emscripten_GetProcAddress=function(){return(Vs=c._emscripten_GetProcAddress=c.asm.emscripten_GetProcAddress).apply(null,arguments)},Ys=(c._fileno=function(){return(c._fileno=c.asm.fileno).apply(null,arguments)},c.stackSave=function(){return(Ys=c.stackSave=c.asm.stackSave).apply(null,arguments)}),Qs=c.stackRestore=function(){return(Qs=c.stackRestore=c.asm.stackRestore).apply(null,arguments)},Ks=c.stackAlloc=function(){return(Ks=c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)},Zs=c._setThrew=function(){return(Zs=c._setThrew=c.asm.setThrew).apply(null,arguments)},Js=(c.dynCall_viijii=function(){return(c.dynCall_viijii=c.asm.dynCall_viijii).apply(null,arguments)},c.dynCall_ji=function(){return(Js=c.dynCall_ji=c.asm.dynCall_ji).apply(null,arguments)}),$s=c.dynCall_jiji=function(){return($s=c.dynCall_jiji=c.asm.dynCall_jiji).apply(null,arguments)};c.dynCall_iiiiij=function(){return(c.dynCall_iiiiij=c.asm.dynCall_iiiiij).apply(null,arguments)},c.dynCall_iiiiijj=function(){return(c.dynCall_iiiiijj=c.asm.dynCall_iiiiijj).apply(null,arguments)},c.dynCall_iiiiiijj=function(){return(c.dynCall_iiiiiijj=c.asm.dynCall_iiiiiijj).apply(null,arguments)};function eu(e,t){var r=Ys();try{return M.get(e)(t)}catch(n){if(Qs(r),n!==n+0&&"longjmp"!==n)throw n;Zs(1,0)}}function tu(e,t,r,n,o){var a=Ys();try{return M.get(e)(t,r,n,o)}catch(i){if(Qs(a),i!==i+0&&"longjmp"!==i)throw i;Zs(1,0)}}function ru(e,t,r,n){var o=Ys();try{return M.get(e)(t,r,n)}catch(a){if(Qs(o),a!==a+0&&"longjmp"!==a)throw a;Zs(1,0)}}function nu(e,t){var r=Ys();try{M.get(e)(t)}catch(n){if(Qs(r),n!==n+0&&"longjmp"!==n)throw n;Zs(1,0)}}function ou(e,t,r,n){var o=Ys();try{M.get(e)(t,r,n)}catch(a){if(Qs(o),a!==a+0&&"longjmp"!==a)throw a;Zs(1,0)}}function au(e,t,r){var n=Ys();try{M.get(e)(t,r)}catch(o){if(Qs(n),o!==o+0&&"longjmp"!==o)throw o;Zs(1,0)}}function iu(e,t,r){var n=Ys();try{return M.get(e)(t,r)}catch(o){if(Qs(n),o!==o+0&&"longjmp"!==o)throw o;Zs(1,0)}}function su(e,t,r,n,o,a,i,s,u,c){var l=Ys();try{return M.get(e)(t,r,n,o,a,i,s,u,c)}catch(f){if(Qs(l),f!==f+0&&"longjmp"!==f)throw f;Zs(1,0)}}function uu(e,t,r,n,o,a){var i=Ys();try{return M.get(e)(t,r,n,o,a)}catch(s){if(Qs(i),s!==s+0&&"longjmp"!==s)throw s;Zs(1,0)}}function cu(e,t,r,n,o,a,i,s,u){var c=Ys();try{return M.get(e)(t,r,n,o,a,i,s,u)}catch(l){if(Qs(c),l!==l+0&&"longjmp"!==l)throw l;Zs(1,0)}}function lu(e){var t=Ys();try{return M.get(e)()}catch(r){if(Qs(t),r!==r+0&&"longjmp"!==r)throw r;Zs(1,0)}}function fu(e,t,r,n,o){var a=Ys();try{M.get(e)(t,r,n,o)}catch(i){if(Qs(a),i!==i+0&&"longjmp"!==i)throw i;Zs(1,0)}}function du(e,t){var r=Ys();try{return Js(e,t)}catch(n){if(Qs(r),n!==n+0&&"longjmp"!==n)throw n;Zs(1,0)}}function mu(e,t,r,n,o){var a=Ys();try{return $s(e,t,r,n,o)}catch(i){if(Qs(a),i!==i+0&&"longjmp"!==i)throw i;Zs(1,0)}}function pu(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}c.addRunDependency=ke,c.removeRunDependency=xe,c.FS_createPath=ct.createPath,c.FS_createDataFile=ct.createDataFile,c.FS_createPreloadedFile=ct.createPreloadedFile,c.FS_createLazyFile=ct.createLazyFile,c.FS_createDevice=ct.createDevice,c.FS_unlink=ct.unlink;function gu(e){var t=c._main;try{vu(t(0,0),!0)}catch(n){if(n instanceof pu)return;if("unwind"==n)return void(T=!0);var r=n;n&&"object"===typeof n&&n.stack&&(r=[n,n.stack]),C("exception thrown: "+r),p(1,n)}finally{!0}}function hu(e){function t(){zs||(zs=!0,c.calledRun=!0,N||(pe(),ge(),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),yu&&gu(),ve()))}e=e||d,we>0||(me(),we>0||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),t()}),1)):t()))}function vu(e,t){t&&T&&0===e||(T||(e,he(),c.onExit&&c.onExit(e),N=!0),p(e,new pu(e)))}if(be=function e(){zs||hu(),zs||(be=e)},c.run=hu,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var yu=!0;return c.noInitialRun&&(yu=!1),T=!0,hu(),t.ready}}();e.exports=s}).call(this,"/index.js",r(7),"/",r(43).setImmediate,r(3).Buffer)},85:function(e,t,r){e.exports=r(173)},90:function(e,t,r){},91:function(e,t,r){},97:function(e,t){},99:function(e,t){}},[[85,1,2]]]);
//# sourceMappingURL=main.fde3212c.chunk.js.map